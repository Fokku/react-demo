{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button';\nimport { useWalletModal } from './useWalletModal';\nimport { WalletConnectButton } from './WalletConnectButton';\nimport { WalletIcon } from './WalletIcon';\nimport { WalletModalButton } from './WalletModalButton';\nexport const WalletMultiButton = _a => {\n  var {\n    children\n  } = _a,\n      props = __rest(_a, [\"children\"]);\n\n  const {\n    publicKey,\n    wallet,\n    disconnect\n  } = useWallet();\n  const {\n    setVisible\n  } = useWalletModal();\n  const [copied, setCopied] = useState(false);\n  const [active, setActive] = useState(false);\n  const ref = useRef(null);\n  const base58 = useMemo(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n  const content = useMemo(() => {\n    if (children) return children;\n    if (!wallet || !base58) return null;\n    return base58.slice(0, 4) + '..' + base58.slice(-4);\n  }, [children, wallet, base58]);\n  const copyAddress = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n    if (base58) {\n      yield navigator.clipboard.writeText(base58);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 400);\n    }\n  }), [base58]);\n  const openDropdown = useCallback(() => setActive(true), [setActive]);\n  const closeDropdown = useCallback(() => setActive(false), [setActive]);\n  const openModal = useCallback(() => {\n    setVisible(true);\n    closeDropdown();\n  }, [setVisible, closeDropdown]);\n  useEffect(() => {\n    const listener = event => {\n      const node = ref.current; // Do nothing if clicking dropdown or its descendants\n\n      if (!node || node.contains(event.target)) return;\n      closeDropdown();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, closeDropdown]);\n  if (!wallet) return React.createElement(WalletModalButton, Object.assign({}, props), children);\n  if (!base58) return React.createElement(WalletConnectButton, Object.assign({}, props), children);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(Button, Object.assign({\n    \"aria-expanded\": active,\n    className: \"wallet-adapter-button-trigger\",\n    style: Object.assign({\n      pointerEvents: active ? 'none' : 'auto'\n    }, props.style),\n    onClick: openDropdown,\n    startIcon: React.createElement(WalletIcon, {\n      wallet: wallet\n    })\n  }, props), content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`,\n    ref: ref,\n    role: \"menu\"\n  }, React.createElement(\"li\", {\n    onClick: copyAddress,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, copied ? 'Copied' : 'Copy address'), React.createElement(\"li\", {\n    onClick: openModal,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Connect a different wallet\"), React.createElement(\"li\", {\n    onClick: disconnect,\n    className: \"wallet-adapter-dropdown-list-item\",\n    role: \"menuitem\"\n  }, \"Disconnect\")));\n};","map":{"version":3,"sources":["../src/WalletMultiButton.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from './Button';\nimport { useWalletModal } from './useWalletModal';\nimport { WalletConnectButton } from './WalletConnectButton';\nimport { WalletIcon } from './WalletIcon';\nimport { WalletModalButton } from './WalletModalButton';\nexport const WalletMultiButton = (_a) => {\n    var { children } = _a, props = __rest(_a, [\"children\"]);\n    const { publicKey, wallet, disconnect } = useWallet();\n    const { setVisible } = useWalletModal();\n    const [copied, setCopied] = useState(false);\n    const [active, setActive] = useState(false);\n    const ref = useRef(null);\n    const base58 = useMemo(() => publicKey === null || publicKey === void 0 ? void 0 : publicKey.toBase58(), [publicKey]);\n    const content = useMemo(() => {\n        if (children)\n            return children;\n        if (!wallet || !base58)\n            return null;\n        return base58.slice(0, 4) + '..' + base58.slice(-4);\n    }, [children, wallet, base58]);\n    const copyAddress = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (base58) {\n            yield navigator.clipboard.writeText(base58);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 400);\n        }\n    }), [base58]);\n    const openDropdown = useCallback(() => setActive(true), [setActive]);\n    const closeDropdown = useCallback(() => setActive(false), [setActive]);\n    const openModal = useCallback(() => {\n        setVisible(true);\n        closeDropdown();\n    }, [setVisible, closeDropdown]);\n    useEffect(() => {\n        const listener = (event) => {\n            const node = ref.current;\n            // Do nothing if clicking dropdown or its descendants\n            if (!node || node.contains(event.target))\n                return;\n            closeDropdown();\n        };\n        document.addEventListener('mousedown', listener);\n        document.addEventListener('touchstart', listener);\n        return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n        };\n    }, [ref, closeDropdown]);\n    if (!wallet)\n        return React.createElement(WalletModalButton, Object.assign({}, props), children);\n    if (!base58)\n        return React.createElement(WalletConnectButton, Object.assign({}, props), children);\n    return (React.createElement(\"div\", { className: \"wallet-adapter-dropdown\" },\n        React.createElement(Button, Object.assign({ \"aria-expanded\": active, className: \"wallet-adapter-button-trigger\", style: Object.assign({ pointerEvents: active ? 'none' : 'auto' }, props.style), onClick: openDropdown, startIcon: React.createElement(WalletIcon, { wallet: wallet }) }, props), content),\n        React.createElement(\"ul\", { \"aria-label\": \"dropdown-list\", className: `wallet-adapter-dropdown-list ${active && 'wallet-adapter-dropdown-list-active'}`, ref: ref, role: \"menu\" },\n            React.createElement(\"li\", { onClick: copyAddress, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, copied ? 'Copied' : 'Copy address'),\n            React.createElement(\"li\", { onClick: openModal, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Connect a different wallet\"),\n            React.createElement(\"li\", { onClick: disconnect, className: \"wallet-adapter-dropdown-list-item\", role: \"menuitem\" }, \"Disconnect\"))));\n};\n//# sourceMappingURL=WalletMultiButton.js.map"]},"metadata":{},"sourceType":"module"}