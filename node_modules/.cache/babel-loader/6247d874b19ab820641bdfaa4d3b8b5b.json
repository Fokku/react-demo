{"ast":null,"code":"import { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer } from \"./helpers\";\nexport { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer };\nexport var AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\nexport var AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\nexport var AmountRequired = createCustomErrorClass(\"AmountRequired\");\nexport var BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\nexport var BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\nexport var CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\nexport var CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\nexport var CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\nexport var DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\nexport var DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\nexport var DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\nexport var DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\nexport var DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\nexport var DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\nexport var DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\nexport var DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\nexport var DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\nexport var DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nexport var DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\nexport var DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\nexport var EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\nexport var EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\nexport var FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\nexport var FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\nexport var HardResetFail = createCustomErrorClass(\"HardResetFail\");\nexport var InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\nexport var InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\nexport var InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\nexport var LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\nexport var UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\nexport var LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\nexport var LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\nexport var LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\nexport var ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\nexport var ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\nexport var ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\nexport var ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\nexport var ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\nexport var ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\nexport var ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\nexport var ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\nexport var NetworkDown = createCustomErrorClass(\"NetworkDown\");\nexport var NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\nexport var NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\nexport var NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\nexport var NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\nexport var NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\nexport var NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\nexport var NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\nexport var NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\nexport var NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\nexport var GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\nexport var PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\nexport var PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\nexport var RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\nexport var RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\nexport var TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\nexport var UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\nexport var MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\nexport var RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\nexport var UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\nexport var UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\nexport var UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\nexport var UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\nexport var UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\nexport var UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\nexport var UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\nexport var UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\nexport var UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\nexport var UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\nexport var UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\n\nexport var TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\nexport var TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\nexport var TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\nexport var TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\nexport var DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\nexport var WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\nexport var WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\nexport var WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\nexport var WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\nexport var ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\nexport var CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\nexport var FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\nexport var FeeRequired = createCustomErrorClass(\"FeeRequired\");\nexport var FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\nexport var SyncError = createCustomErrorClass(\"SyncError\");\nexport var PairingFailed = createCustomErrorClass(\"PairingFailed\");\nexport var GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\nexport var LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\nexport var LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\nexport var FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\"); // db stuff, no need to translate\n\nexport var NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\nexport var DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\nexport var DBNotReset = createCustomErrorClass(\"DBNotReset\");\n/**\n * TransportError is used for any generic transport errors.\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\n */\n\nexport function TransportError(message, id) {\n  this.name = \"TransportError\";\n  this.message = message;\n  this.stack = new Error().stack;\n  this.id = id;\n}\nTransportError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportError\", function (e) {\n  return new TransportError(e.message, e.id);\n});\nexport var StatusCodes = {\n  PIN_REMAINING_ATTEMPTS: 0x63c0,\n  INCORRECT_LENGTH: 0x6700,\n  MISSING_CRITICAL_PARAMETER: 0x6800,\n  COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\n  SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n  CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n  INCORRECT_DATA: 0x6a80,\n  NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\n  REFERENCED_DATA_NOT_FOUND: 0x6a88,\n  FILE_ALREADY_EXISTS: 0x6a89,\n  INCORRECT_P1_P2: 0x6b00,\n  INS_NOT_SUPPORTED: 0x6d00,\n  CLA_NOT_SUPPORTED: 0x6e00,\n  TECHNICAL_PROBLEM: 0x6f00,\n  OK: 0x9000,\n  MEMORY_PROBLEM: 0x9240,\n  NO_EF_SELECTED: 0x9400,\n  INVALID_OFFSET: 0x9402,\n  FILE_NOT_FOUND: 0x9404,\n  INCONSISTENT_FILE: 0x9408,\n  ALGORITHM_NOT_SUPPORTED: 0x9484,\n  INVALID_KCV: 0x9485,\n  CODE_NOT_INITIALIZED: 0x9802,\n  ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\n  CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\n  CONTRADICTION_INVALIDATION: 0x9810,\n  CODE_BLOCKED: 0x9840,\n  MAX_VALUE_REACHED: 0x9850,\n  GP_AUTH_FAILED: 0x6300,\n  LICENSING: 0x6f42,\n  HALTED: 0x6faa\n};\nexport function getAltStatusMessage(code) {\n  switch (code) {\n    // improve text of most common errors\n    case 0x6700:\n      return \"Incorrect length\";\n\n    case 0x6800:\n      return \"Missing critical parameter\";\n\n    case 0x6982:\n      return \"Security not satisfied (dongle locked or have invalid access rights)\";\n\n    case 0x6985:\n      return \"Condition of use not satisfied (denied by the user?)\";\n\n    case 0x6a80:\n      return \"Invalid data received\";\n\n    case 0x6b00:\n      return \"Invalid parameter received\";\n  }\n\n  if (0x6f00 <= code && code <= 0x6fff) {\n    return \"Internal error, please report\";\n  }\n}\n/**\n * Error thrown when a device returned a non success status.\n * the error.statusCode is one of the `StatusCodes` exported by this library.\n */\n\nexport function TransportStatusError(statusCode) {\n  this.name = \"TransportStatusError\";\n  var statusText = Object.keys(StatusCodes).find(function (k) {\n    return StatusCodes[k] === statusCode;\n  }) || \"UNKNOWN_ERROR\";\n  var smsg = getAltStatusMessage(statusCode) || statusText;\n  var statusCodeStr = statusCode.toString(16);\n  this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\n  this.stack = new Error().stack;\n  this.statusCode = statusCode;\n  this.statusText = statusText;\n}\nTransportStatusError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) {\n  return new TransportStatusError(e.statusCode);\n});","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer, } from \"./helpers\";\nexport { serializeError, deserializeError, createCustomErrorClass, addCustomErrorDeserializer, };\nexport var AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\nexport var AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\nexport var AmountRequired = createCustomErrorClass(\"AmountRequired\");\nexport var BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\nexport var BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\nexport var CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\nexport var CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\nexport var CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\nexport var DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\nexport var DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\nexport var DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\nexport var DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\nexport var DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\nexport var DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\nexport var DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\nexport var DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\nexport var DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\nexport var DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\nexport var DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\nexport var DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\nexport var EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\nexport var EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\nexport var FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\nexport var FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\nexport var HardResetFail = createCustomErrorClass(\"HardResetFail\");\nexport var InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\nexport var InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\nexport var InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\nexport var LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\nexport var UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\nexport var LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\nexport var LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\nexport var LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\nexport var ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\nexport var ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\nexport var ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\nexport var ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\nexport var ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\nexport var ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\nexport var ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\nexport var ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\nexport var NetworkDown = createCustomErrorClass(\"NetworkDown\");\nexport var NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\nexport var NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\nexport var NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\nexport var NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\nexport var NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\nexport var NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\nexport var NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\nexport var NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\nexport var NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\nexport var GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\nexport var PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\nexport var PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\nexport var RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\nexport var RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\nexport var TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\nexport var UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\nexport var MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\nexport var RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\nexport var UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\nexport var UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\nexport var UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\nexport var UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\nexport var UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\nexport var UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\nexport var UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\nexport var UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\nexport var UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\nexport var UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\nexport var UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\nexport var TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\nexport var TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\nexport var TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\nexport var TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\nexport var DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\nexport var WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\nexport var WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\nexport var WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\nexport var WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\nexport var ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\nexport var CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\nexport var FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\nexport var FeeRequired = createCustomErrorClass(\"FeeRequired\");\nexport var FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\nexport var SyncError = createCustomErrorClass(\"SyncError\");\nexport var PairingFailed = createCustomErrorClass(\"PairingFailed\");\nexport var GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\nexport var LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\nexport var LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\nexport var FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\");\n// db stuff, no need to translate\nexport var NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\nexport var DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\nexport var DBNotReset = createCustomErrorClass(\"DBNotReset\");\n/**\n * TransportError is used for any generic transport errors.\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\n */\nexport function TransportError(message, id) {\n    this.name = \"TransportError\";\n    this.message = message;\n    this.stack = new Error().stack;\n    this.id = id;\n}\nTransportError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportError\", function (e) { return new TransportError(e.message, e.id); });\nexport var StatusCodes = {\n    PIN_REMAINING_ATTEMPTS: 0x63c0,\n    INCORRECT_LENGTH: 0x6700,\n    MISSING_CRITICAL_PARAMETER: 0x6800,\n    COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\n    SECURITY_STATUS_NOT_SATISFIED: 0x6982,\n    CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\n    INCORRECT_DATA: 0x6a80,\n    NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\n    REFERENCED_DATA_NOT_FOUND: 0x6a88,\n    FILE_ALREADY_EXISTS: 0x6a89,\n    INCORRECT_P1_P2: 0x6b00,\n    INS_NOT_SUPPORTED: 0x6d00,\n    CLA_NOT_SUPPORTED: 0x6e00,\n    TECHNICAL_PROBLEM: 0x6f00,\n    OK: 0x9000,\n    MEMORY_PROBLEM: 0x9240,\n    NO_EF_SELECTED: 0x9400,\n    INVALID_OFFSET: 0x9402,\n    FILE_NOT_FOUND: 0x9404,\n    INCONSISTENT_FILE: 0x9408,\n    ALGORITHM_NOT_SUPPORTED: 0x9484,\n    INVALID_KCV: 0x9485,\n    CODE_NOT_INITIALIZED: 0x9802,\n    ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\n    CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\n    CONTRADICTION_INVALIDATION: 0x9810,\n    CODE_BLOCKED: 0x9840,\n    MAX_VALUE_REACHED: 0x9850,\n    GP_AUTH_FAILED: 0x6300,\n    LICENSING: 0x6f42,\n    HALTED: 0x6faa\n};\nexport function getAltStatusMessage(code) {\n    switch (code) {\n        // improve text of most common errors\n        case 0x6700:\n            return \"Incorrect length\";\n        case 0x6800:\n            return \"Missing critical parameter\";\n        case 0x6982:\n            return \"Security not satisfied (dongle locked or have invalid access rights)\";\n        case 0x6985:\n            return \"Condition of use not satisfied (denied by the user?)\";\n        case 0x6a80:\n            return \"Invalid data received\";\n        case 0x6b00:\n            return \"Invalid parameter received\";\n    }\n    if (0x6f00 <= code && code <= 0x6fff) {\n        return \"Internal error, please report\";\n    }\n}\n/**\n * Error thrown when a device returned a non success status.\n * the error.statusCode is one of the `StatusCodes` exported by this library.\n */\nexport function TransportStatusError(statusCode) {\n    this.name = \"TransportStatusError\";\n    var statusText = Object.keys(StatusCodes).find(function (k) { return StatusCodes[k] === statusCode; }) ||\n        \"UNKNOWN_ERROR\";\n    var smsg = getAltStatusMessage(statusCode) || statusText;\n    var statusCodeStr = statusCode.toString(16);\n    this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\n    this.stack = new Error().stack;\n    this.statusCode = statusCode;\n    this.statusText = statusText;\n}\nTransportStatusError.prototype = new Error();\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) { return new TransportStatusError(e.statusCode); });\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}