{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 23);\n  /******/\n}\n/************************************************************************/\n\n/******/\n([\n/* 0 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/regenerator\");\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /* harmony export (binding) */\n\n  __webpack_require__.d(__webpack_exports__, \"f\", function () {\n    return iframeDOMElementID;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"g\", function () {\n    return modalDOMElementID;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"h\", function () {\n    return storeKey;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"e\", function () {\n    return UX_MODE;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"c\", function () {\n    return OPENLOGIN_METHOD;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"a\", function () {\n    return ALLOWED_INTERACTIONS;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"d\", function () {\n    return OPENLOGIN_NETWORK;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"b\", function () {\n    return LOGIN_PROVIDER;\n  });\n\n  var iframeDOMElementID = \"openlogin-iframe\";\n  var modalDOMElementID = \"openlogin-modal\";\n  var storeKey = \"openlogin_store\";\n  var UX_MODE = {\n    POPUP: \"popup\",\n    REDIRECT: \"redirect\"\n  };\n  var OPENLOGIN_METHOD = {\n    LOGIN: \"openlogin_login\",\n    LOGOUT: \"openlogin_logout\",\n    CHECK_3PC_SUPPORT: \"openlogin_check_3PC_support\",\n    SET_PID_DATA: \"openlogin_set_pid_data\",\n    GET_DATA: \"openlogin_get_data\"\n  }; // autocomplete workaround https://github.com/microsoft/TypeScript/issues/29729\n\n  var ALLOWED_INTERACTIONS = {\n    POPUP: \"popup\",\n    REDIRECT: \"redirect\",\n    JRPC: \"jrpc\"\n  };\n  var OPENLOGIN_NETWORK = {\n    MAINNET: \"mainnet\",\n    TESTNET: \"testnet\",\n    DEVELOPMENT: \"development\"\n  };\n  var LOGIN_PROVIDER = {\n    GOOGLE: \"google\",\n    FACEBOOK: \"facebook\",\n    REDDIT: \"reddit\",\n    DISCORD: \"discord\",\n    TWITCH: \"twitch\",\n    APPLE: \"apple\",\n    LINE: \"line\",\n    GITHUB: \"github\",\n    KAKAO: \"kakao\",\n    LINKEDIN: \"linkedin\",\n    TWITTER: \"twitter\",\n    WEIBO: \"weibo\",\n    WECHAT: \"wechat\",\n    EMAIL_PASSWORDLESS: \"email_passwordless\",\n    WEBAUTHN: \"webauthn\",\n    JWT: \"jwt\"\n  };\n  /**\n   * {@label loginProviderType}\n   */\n\n  /***/\n},\n/* 2 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");\n  /***/\n},\n/* 3 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/defineProperty\");\n  /***/\n},\n/* 4 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /* harmony export (binding) */\n\n  __webpack_require__.d(__webpack_exports__, \"c\", function () {\n    return documentReady;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"f\", function () {\n    return htmlToElement;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"k\", function () {\n    return whitelistUrl;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"d\", function () {\n    return getHashQueryParams;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"a\", function () {\n    return awaitReq;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"b\", function () {\n    return constructURL;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"j\", function () {\n    return storageAvailable;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"i\", function () {\n    return sessionStorageAvailable;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"g\", function () {\n    return localStorageAvailable;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"h\", function () {\n    return preloadIframe;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"e\", function () {\n    return getPopupFeatures;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n  /* harmony import */\n\n\n  var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n  /* harmony import */\n\n\n  var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__);\n\n  function documentReady() {\n    return _documentReady.apply(this, arguments);\n  }\n\n  function _documentReady() {\n    _documentReady = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", new Promise(function (resolve) {\n                if (document.readyState !== \"loading\") {\n                  resolve();\n                } else {\n                  document.addEventListener(\"DOMContentLoaded\", function () {\n                    resolve();\n                  });\n                }\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _documentReady.apply(this, arguments);\n  }\n\n  var htmlToElement = function htmlToElement(html) {\n    var template = window.document.createElement(\"template\");\n    var trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n\n    template.innerHTML = trimmedHtml;\n    return template.content.firstChild;\n  };\n\n  function whitelistUrl(_x, _x2, _x3) {\n    return _whitelistUrl.apply(this, arguments);\n  }\n\n  function _whitelistUrl() {\n    _whitelistUrl = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(clientId, appKey, origin) {\n      var appKeyBuf, sig;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              appKeyBuf = Buffer.from(appKey.padStart(64, \"0\"), \"hex\");\n\n              if (!(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"base64url\"].encode(Object(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__[\"getPublic\"])(appKeyBuf)) !== clientId)) {\n                _context2.next = 3;\n                break;\n              }\n\n              throw new Error(\"appKey mismatch\");\n\n            case 3:\n              _context2.next = 5;\n              return Object(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__[\"sign\"])(appKeyBuf, Buffer.from(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"keccak\"])(\"keccak256\").update(origin).digest(\"hex\"), \"hex\"));\n\n            case 5:\n              sig = _context2.sent;\n              return _context2.abrupt(\"return\", _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"base64url\"].encode(sig));\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _whitelistUrl.apply(this, arguments);\n  }\n\n  function getHashQueryParams() {\n    var replaceUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var result = {};\n    var url = new URL(window.location.href);\n    url.searchParams.forEach(function (value, key) {\n      if (key !== \"result\") {\n        result[key] = value;\n      }\n    });\n    var queryResult = url.searchParams.get(\"result\");\n\n    if (queryResult) {\n      try {\n        var queryParams = JSON.parse(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeatob\"])(queryResult));\n        Object.keys(queryParams).forEach(function (key) {\n          result[key] = queryParams[key];\n        });\n      } catch (error) {\n        window.console.error(error);\n      }\n    }\n\n    var hash = url.hash.substr(1);\n    var hashUrl = new URL(\"\".concat(window.location.origin, \"/?\").concat(hash));\n    hashUrl.searchParams.forEach(function (value, key) {\n      if (key !== \"result\") {\n        result[key] = value;\n      }\n    });\n    var hashResult = hashUrl.searchParams.get(\"result\");\n\n    if (hashResult) {\n      try {\n        var hashParams = JSON.parse(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeatob\"])(hashResult));\n        Object.keys(hashParams).forEach(function (key) {\n          result[key] = hashParams[key];\n        });\n      } catch (error) {\n        window.console.error(error);\n      }\n    }\n\n    if (replaceUrl) {\n      var cleanUrl = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, \"\", cleanUrl);\n    }\n\n    return result;\n  }\n\n  function awaitReq(id, windowRef) {\n    return new Promise(function (resolve, reject) {\n      if (!windowRef) reject(new Error(\"Unable to open window\"));\n      var closedByHandler = false;\n      var closedMonitor = setInterval(function () {\n        if (!closedByHandler && windowRef.closed) {\n          clearInterval(closedMonitor);\n          reject(new Error(\"user closed popup\"));\n        }\n      }, 500);\n\n      var handler = function handler(ev) {\n        var pid = ev.data.pid;\n        if (id !== pid) return;\n        window.removeEventListener(\"message\", handler);\n        closedByHandler = true;\n        clearInterval(closedMonitor);\n        windowRef.close();\n\n        if (ev.data.data && ev.data.data.error) {\n          reject(new Error(ev.data.data.error));\n        } else {\n          resolve(ev.data.data);\n        }\n      };\n\n      window.addEventListener(\"message\", handler);\n    });\n  }\n\n  function constructURL(params) {\n    var baseURL = params.baseURL,\n        query = params.query,\n        hash = params.hash;\n    var url = new URL(baseURL);\n\n    if (query) {\n      Object.keys(query).forEach(function (key) {\n        url.searchParams.append(key, query[key]);\n      });\n    }\n\n    if (hash) {\n      var h = new URL(constructURL({\n        baseURL: baseURL,\n        query: hash\n      })).searchParams.toString();\n      url.hash = h;\n    }\n\n    return url.toString();\n  }\n\n  function storageAvailable(type) {\n    var storageExists = false;\n    var storageLength = 0;\n    var storage;\n\n    try {\n      storage = window[type];\n      storageExists = true;\n      storageLength = storage.length;\n      var x = \"__storage_test__\";\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      return true;\n    } catch (error) {\n      return error && (error.code === 22 || // Firefox\n      error.code === 1014 || // test name field too, because code might not be present\n      // everything except Firefox\n      error.name === \"QuotaExceededErro r\" || // Firefox\n      error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n      storageExists && storageLength !== 0;\n    }\n  }\n\n  var sessionStorageAvailable = storageAvailable(\"sessionStorage\");\n  var localStorageAvailable = storageAvailable(\"localStorage\");\n\n  function preloadIframe(url) {\n    try {\n      var openloginIframeHtml = document.createElement(\"link\");\n      openloginIframeHtml.href = url;\n      openloginIframeHtml.crossOrigin = \"anonymous\";\n      openloginIframeHtml.type = \"text/html\";\n      openloginIframeHtml.rel = \"prefetch\";\n\n      if (openloginIframeHtml.relList && openloginIframeHtml.relList.supports) {\n        if (openloginIframeHtml.relList.supports(\"prefetch\")) {\n          document.head.appendChild(openloginIframeHtml);\n        }\n      }\n    } catch (error) {\n      window.console.error(error);\n    }\n  }\n\n  function getPopupFeatures() {\n    // Fixes dual-screen position                             Most browsers      Firefox\n    var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n    var dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n    var w = 1200;\n    var h = 700;\n    var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n    var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n    var systemZoom = 1; // No reliable estimate\n\n    var left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n    var top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n    var features = \"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(h / systemZoom, \",width=\").concat(w / systemZoom, \",top=\").concat(top, \",left=\").concat(left);\n    return features;\n  }\n  /***/\n\n},\n/* 5 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@toruslabs/openlogin-utils\");\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@toruslabs/openlogin-jrpc\");\n  /***/\n},\n/* 7 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/classCallCheck\");\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/createClass\");\n  /***/\n},\n/* 9 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@toruslabs/eccrypto\");\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/slicedToArray\");\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // EXTERNAL MODULE: external \"@babel/runtime/helpers/typeof\"\n\n  var typeof_ = __webpack_require__(15);\n\n  var typeof_default = /*#__PURE__*/__webpack_require__.n(typeof_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/slicedToArray\"\n\n\n  var slicedToArray_ = __webpack_require__(11);\n\n  var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\n\n\n  var asyncToGenerator_ = __webpack_require__(2);\n\n  var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/classCallCheck\"\n\n\n  var classCallCheck_ = __webpack_require__(7);\n\n  var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/createClass\"\n\n\n  var createClass_ = __webpack_require__(8);\n\n  var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/defineProperty\"\n\n\n  var defineProperty_ = __webpack_require__(3);\n\n  var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty_); // EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\n\n\n  var regenerator_ = __webpack_require__(0);\n\n  var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator_); // EXTERNAL MODULE: external \"@toruslabs/eccrypto\"\n\n\n  var eccrypto_ = __webpack_require__(9); // EXTERNAL MODULE: external \"@toruslabs/http-helpers\"\n\n\n  var http_helpers_ = __webpack_require__(16); // EXTERNAL MODULE: external \"@toruslabs/openlogin-jrpc\"\n\n\n  var openlogin_jrpc_ = __webpack_require__(6); // EXTERNAL MODULE: external \"@toruslabs/openlogin-utils\"\n\n\n  var openlogin_utils_ = __webpack_require__(5); // EXTERNAL MODULE: external \"lodash.merge\"\n\n\n  var external_lodash_merge_ = __webpack_require__(19);\n\n  var external_lodash_merge_default = /*#__PURE__*/__webpack_require__.n(external_lodash_merge_); // EXTERNAL MODULE: ./src/constants.ts\n\n\n  var constants = __webpack_require__(1); // EXTERNAL MODULE: ./src/utils.ts\n\n\n  var utils = __webpack_require__(4); // CONCATENATED MODULE: ./src/Modal.ts\n\n\n  var handleStream = function handleStream(handle, eventName, handler) {\n    var handlerWrapper = function handlerWrapper(chunk) {\n      handler(chunk);\n      handle.removeListener(eventName, handlerWrapper);\n    };\n\n    handle.on(eventName, handlerWrapper);\n  };\n\n  var Modal_Modal = /*#__PURE__*/function () {\n    function Modal(modalUrl) {\n      classCallCheck_default()(this, Modal);\n      defineProperty_default()(this, \"modalUrl\", void 0);\n      defineProperty_default()(this, \"iframeElem\", void 0);\n      defineProperty_default()(this, \"initialized\", false);\n      defineProperty_default()(this, \"modalZIndex\", 99999);\n      defineProperty_default()(this, \"mux\", void 0);\n      defineProperty_default()(this, \"verifierStream\", void 0);\n      this.modalUrl = modalUrl;\n    }\n\n    createClass_default()(Modal, [{\n      key: \"init\",\n      value: function () {\n        var _init = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.initIFrame(this.modalUrl);\n\n                case 2:\n                  this.setupStream();\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function init() {\n          return _init.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"setupStream\",\n      value: function setupStream() {\n        if (this.iframeElem === null) throw new Error(\"iframe is null\");\n        this.mux = Object(openlogin_jrpc_[\"setupMultiplex\"])(new openlogin_jrpc_[\"PostMessageStream\"]({\n          name: \"modal_iframe_rpc\",\n          target: \"modal_rpc\",\n          targetWindow: this.iframeElem.contentWindow\n        }));\n        this.verifierStream = this.mux.createStream(\"verifier\");\n      }\n    }, {\n      key: \"initIFrame\",\n      value: function () {\n        var _initIFrame = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2(src) {\n          var documentIFrameElem, iframeElem;\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return Object(utils[\"c\"\n                  /* documentReady */\n                  ])();\n\n                case 2:\n                  documentIFrameElem = document.getElementById(constants[\"g\"\n                  /* modalDOMElementID */\n                  ]);\n\n                  if (documentIFrameElem) {\n                    documentIFrameElem.remove();\n                    window.console.log(\"already initialized, removing previous modal iframe\");\n                  }\n\n                  iframeElem = document.createElement(\"iframe\");\n                  iframeElem.src = src;\n                  iframeElem.id = constants[\"g\"\n                  /* modalDOMElementID */\n                  ];\n                  this.iframeElem = iframeElem;\n\n                  this._hideModal();\n\n                  document.body.appendChild(this.iframeElem);\n\n                case 10:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function initIFrame(_x) {\n          return _initIFrame.apply(this, arguments);\n        }\n\n        return initIFrame;\n      }()\n    }, {\n      key: \"_showModal\",\n      value: function _showModal() {\n        var style = {};\n        style.display = \"block\";\n        style.position = \"fixed\";\n        style.width = \"100%\";\n        style.height = \"100%\";\n        style.top = \"0px\";\n        style.right = \"0px\";\n        style.left = \"0px\";\n        style.bottom = \"0px\";\n        style.border = \"0\";\n        style[\"z-index\"] = this.modalZIndex;\n        this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref) {\n          var _ref2 = slicedToArray_default()(_ref, 2),\n              k = _ref2[0],\n              v = _ref2[1];\n\n          return \"\".concat(k, \":\").concat(v);\n        }).join(\";\"));\n      }\n    }, {\n      key: \"_hideModal\",\n      value: function _hideModal() {\n        var style = {};\n        style.display = \"none\";\n        style.position = \"fixed\";\n        style.width = \"100%\";\n        style.height = \"100%\";\n        style.top = \"0px\";\n        style.right = \"0px\";\n        style.left = \"0px\";\n        style.bottom = \"0px\";\n        style.border = \"0\";\n        style[\"z-index\"] = this.modalZIndex;\n        this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref3) {\n          var _ref4 = slicedToArray_default()(_ref3, 2),\n              k = _ref4[0],\n              v = _ref4[1];\n\n          return \"\".concat(k, \":\").concat(v);\n        }).join(\";\"));\n      }\n    }, {\n      key: \"_prompt\",\n      value: function () {\n        var _prompt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee3(clientId, whiteLabel, loginConfig, cb) {\n          var _this = this;\n\n          var modalHandler;\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  this._showModal();\n\n                  modalHandler = function modalHandler(chunk) {\n                    _this._hideModal();\n\n                    cb(chunk);\n                  };\n\n                  handleStream(this.verifierStream, \"data\", modalHandler);\n                  this.verifierStream.write({\n                    name: \"prompt\",\n                    clientId: clientId,\n                    whiteLabel: whiteLabel,\n                    loginConfig: loginConfig\n                  });\n\n                case 4:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function _prompt(_x2, _x3, _x4, _x5) {\n          return _prompt2.apply(this, arguments);\n        }\n\n        return _prompt;\n      }()\n    }, {\n      key: \"cleanup\",\n      value: function () {\n        var _cleanup = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n          var documentIFrameElem;\n          return regenerator_default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return Object(utils[\"c\"\n                  /* documentReady */\n                  ])();\n\n                case 2:\n                  documentIFrameElem = document.getElementById(constants[\"g\"\n                  /* modalDOMElementID */\n                  ]);\n\n                  if (documentIFrameElem) {\n                    documentIFrameElem.remove();\n                    this.iframeElem = null;\n                  }\n\n                  this.initialized = false;\n\n                case 5:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function cleanup() {\n          return _cleanup.apply(this, arguments);\n        }\n\n        return cleanup;\n      }()\n    }]);\n    return Modal;\n  }(); // EXTERNAL MODULE: ./src/OpenLoginStore.ts + 1 modules\n\n\n  var OpenLoginStore = __webpack_require__(14); // EXTERNAL MODULE: ./src/Provider.ts\n\n\n  var Provider = __webpack_require__(13); // CONCATENATED MODULE: ./src/OpenLogin.ts\n\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          defineProperty_default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  Object(utils[\"h\"\n  /* preloadIframe */\n  ])(\"https://app.openlogin.com/start\");\n  Object(utils[\"h\"\n  /* preloadIframe */\n  ])(\"https://app.openlogin.com/sdk-modal\");\n\n  var OpenLogin_OpenLogin = /*#__PURE__*/function () {\n    function OpenLogin(options) {\n      var _options$no3PC, _options$_startUrl, _options$_popupUrl, _options$redirectUrl, _options$uxMode, _options$replaceUrlOn, _options$originData, _options$whiteLabel, _options$loginConfig;\n\n      classCallCheck_default()(this, OpenLogin);\n      defineProperty_default()(this, \"provider\", void 0);\n      defineProperty_default()(this, \"state\", void 0);\n      defineProperty_default()(this, \"modal\", void 0);\n      this.provider = new Proxy(new Provider[\"a\"\n      /* default */\n      ](), {\n        deleteProperty: function deleteProperty() {\n          return true;\n        } // work around for web3\n\n      });\n\n      if (!options._iframeUrl) {\n        if (options.network === constants[\"d\"\n        /* OPENLOGIN_NETWORK */\n        ].MAINNET) {\n          options._iframeUrl = \"https://app.openlogin.com\";\n        } else if (options.network === constants[\"d\"\n        /* OPENLOGIN_NETWORK */\n        ].TESTNET) {\n          options._iframeUrl = \"https://beta.openlogin.com\";\n        } else if (options.network === constants[\"d\"\n        /* OPENLOGIN_NETWORK */\n        ].DEVELOPMENT) {\n          options._iframeUrl = \"http://localhost:3000\";\n        }\n      }\n\n      if (!options._iframeUrl) {\n        throw new Error(\"unspecified network and iframeUrl\");\n      }\n\n      this.modal = new Modal_Modal(\"\".concat(options._iframeUrl, \"/sdk-modal\"));\n      this.initState(_objectSpread(_objectSpread({}, options), {}, {\n        no3PC: (_options$no3PC = options.no3PC) !== null && _options$no3PC !== void 0 ? _options$no3PC : false,\n        _iframeUrl: options._iframeUrl,\n        _startUrl: (_options$_startUrl = options._startUrl) !== null && _options$_startUrl !== void 0 ? _options$_startUrl : \"\".concat(options._iframeUrl, \"/start\"),\n        _popupUrl: (_options$_popupUrl = options._popupUrl) !== null && _options$_popupUrl !== void 0 ? _options$_popupUrl : \"\".concat(options._iframeUrl, \"/popup-window\"),\n        redirectUrl: (_options$redirectUrl = options.redirectUrl) !== null && _options$redirectUrl !== void 0 ? _options$redirectUrl : \"\".concat(window.location.protocol, \"//\").concat(window.location.host).concat(window.location.pathname),\n        uxMode: (_options$uxMode = options.uxMode) !== null && _options$uxMode !== void 0 ? _options$uxMode : constants[\"e\"\n        /* UX_MODE */\n        ].REDIRECT,\n        replaceUrlOnRedirect: (_options$replaceUrlOn = options.replaceUrlOnRedirect) !== null && _options$replaceUrlOn !== void 0 ? _options$replaceUrlOn : true,\n        originData: (_options$originData = options.originData) !== null && _options$originData !== void 0 ? _options$originData : defineProperty_default()({}, window.location.origin, \"\"),\n        whiteLabel: (_options$whiteLabel = options.whiteLabel) !== null && _options$whiteLabel !== void 0 ? _options$whiteLabel : {},\n        loginConfig: (_options$loginConfig = options.loginConfig) !== null && _options$loginConfig !== void 0 ? _options$loginConfig : {}\n      }));\n    }\n\n    createClass_default()(OpenLogin, [{\n      key: \"initState\",\n      value: function initState(options) {\n        this.state = {\n          uxMode: options.uxMode,\n          network: options.network,\n          store: OpenLoginStore[\"a\"\n          /* default */\n          ].getInstance(),\n          iframeUrl: options._iframeUrl,\n          startUrl: options._startUrl,\n          popupUrl: options._popupUrl,\n          clientId: options.clientId,\n          redirectUrl: options.redirectUrl,\n          replaceUrlOnRedirect: options.replaceUrlOnRedirect,\n          originData: options.originData,\n          loginConfig: options.loginConfig,\n          support3PC: !options.no3PC,\n          whiteLabel: options.whiteLabel\n        };\n      }\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n          var res;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!this.state.support3PC) {\n                    _context.next = 16;\n                    break;\n                  }\n\n                  _context.next = 3;\n                  return Promise.all([this.provider.init({\n                    iframeUrl: this.state.iframeUrl\n                  }), this.modal.init(), this.updateOriginData()]);\n\n                case 3:\n                  this._syncState(Object(utils[\"d\"\n                  /* getHashQueryParams */\n                  ])(this.state.replaceUrlOnRedirect));\n\n                  _context.next = 6;\n                  return this._check3PCSupport();\n\n                case 6:\n                  res = _context.sent;\n                  this.state.support3PC = !!res.support3PC;\n\n                  if (!this.state.support3PC) {\n                    _context.next = 14;\n                    break;\n                  }\n\n                  _context.t0 = this;\n                  _context.next = 12;\n                  return this._getData();\n\n                case 12:\n                  _context.t1 = _context.sent;\n\n                  _context.t0._syncState.call(_context.t0, _context.t1);\n\n                case 14:\n                  _context.next = 19;\n                  break;\n\n                case 16:\n                  _context.next = 18;\n                  return this.updateOriginData();\n\n                case 18:\n                  this._syncState(Object(utils[\"d\"\n                  /* getHashQueryParams */\n                  ])(this.state.replaceUrlOnRedirect));\n\n                case 19:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function init() {\n          return _init.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"privKey\",\n      get: function get() {\n        return this.state.privKey ? this.state.privKey.padStart(64, \"0\") : \"\";\n      }\n    }, {\n      key: \"updateOriginData\",\n      value: function () {\n        var _updateOriginData = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n          var filteredOriginData, _yield$Promise$all, _yield$Promise$all2, whitelist, whiteLabel;\n\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  filteredOriginData = JSON.parse(JSON.stringify(this.state.originData));\n                  Object.keys(filteredOriginData).forEach(function (key) {\n                    if (filteredOriginData[key] === \"\") delete filteredOriginData[key];\n                  });\n                  _context2.next = 4;\n                  return Promise.all([this.getWhitelist(), this.getWhiteLabel()]);\n\n                case 4:\n                  _yield$Promise$all = _context2.sent;\n                  _yield$Promise$all2 = slicedToArray_default()(_yield$Promise$all, 2);\n                  whitelist = _yield$Promise$all2[0];\n                  whiteLabel = _yield$Promise$all2[1];\n\n                  this._syncState({\n                    originData: _objectSpread(_objectSpread({}, whitelist), filteredOriginData),\n                    whiteLabel: _objectSpread(_objectSpread({}, whiteLabel), this.state.whiteLabel)\n                  });\n\n                case 9:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function updateOriginData() {\n          return _updateOriginData.apply(this, arguments);\n        }\n\n        return updateOriginData;\n      }()\n    }, {\n      key: \"getWhitelist\",\n      value: function () {\n        var _getWhitelist = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n          var clientId, res;\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.prev = 0;\n                  clientId = this.state.clientId;\n\n                  if (clientId) {\n                    _context3.next = 4;\n                    break;\n                  }\n\n                  throw new Error(\"unspecified clientId\");\n\n                case 4:\n                  _context3.next = 6;\n                  return Object(http_helpers_[\"post\"])(\"https://api.developer.tor.us/whitelist\", {\n                    project_id: this.state.clientId\n                  });\n\n                case 6:\n                  res = _context3.sent;\n                  return _context3.abrupt(\"return\", res.signed_urls);\n\n                case 10:\n                  _context3.prev = 10;\n                  _context3.t0 = _context3[\"catch\"](0);\n                  return _context3.abrupt(\"return\", {});\n\n                case 13:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[0, 10]]);\n        }));\n\n        function getWhitelist() {\n          return _getWhitelist.apply(this, arguments);\n        }\n\n        return getWhitelist;\n      }()\n    }, {\n      key: \"getWhiteLabel\",\n      value: function () {\n        var _getWhiteLabel = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n          var clientId, res;\n          return regenerator_default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.prev = 0;\n                  clientId = this.state.clientId;\n\n                  if (clientId) {\n                    _context4.next = 4;\n                    break;\n                  }\n\n                  throw new Error(\"unspecified clientId\");\n\n                case 4:\n                  _context4.next = 6;\n                  return Object(http_helpers_[\"post\"])(\"https://api.developer.tor.us/whitelabel\", {\n                    project_id: this.state.clientId\n                  });\n\n                case 6:\n                  res = _context4.sent;\n                  return _context4.abrupt(\"return\", res.whiteLabel);\n\n                case 10:\n                  _context4.prev = 10;\n                  _context4.t0 = _context4[\"catch\"](0);\n                  return _context4.abrupt(\"return\", {});\n\n                case 13:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this, [[0, 10]]);\n        }));\n\n        function getWhiteLabel() {\n          return _getWhiteLabel.apply(this, arguments);\n        }\n\n        return getWhiteLabel;\n      }()\n    }, {\n      key: \"_fastLogin\",\n      value: function () {\n        var _fastLogin2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee5(params) {\n          var defaultParams, loginParams, res;\n          return regenerator_default.a.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  defaultParams = {\n                    redirectUrl: this.state.redirectUrl\n                  };\n                  loginParams = _objectSpread(_objectSpread({}, defaultParams), params);\n                  _context5.next = 4;\n                  return this.request({\n                    params: [_objectSpread(_objectSpread({}, loginParams), {}, {\n                      fastLogin: true\n                    })],\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].LOGIN,\n                    startUrl: this.state.startUrl,\n                    popupUrl: this.state.popupUrl,\n                    allowedInteractions: [constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].POPUP, constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].REDIRECT]\n                  });\n\n                case 4:\n                  res = _context5.sent;\n                  this.state.privKey = res.privKey;\n                  return _context5.abrupt(\"return\", res);\n\n                case 7:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function _fastLogin(_x) {\n          return _fastLogin2.apply(this, arguments);\n        }\n\n        return _fastLogin;\n      }()\n    }, {\n      key: \"login\",\n      value: function () {\n        var _login = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee6(params) {\n          return regenerator_default.a.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!(params !== null && params !== void 0 && params.loginProvider)) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", this._selectedLogin(params));\n\n                case 2:\n                  return _context6.abrupt(\"return\", this._modal(params));\n\n                case 3:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, this);\n        }));\n\n        function login(_x2) {\n          return _login.apply(this, arguments);\n        }\n\n        return login;\n      }()\n    }, {\n      key: \"_selectedLogin\",\n      value: function () {\n        var _selectedLogin2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee7(params) {\n          var defaultParams, loginParams, res;\n          return regenerator_default.a.wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  defaultParams = {\n                    redirectUrl: this.state.redirectUrl\n                  };\n                  loginParams = _objectSpread(_objectSpread({\n                    loginProvider: params.loginProvider\n                  }, defaultParams), params); // fast login flow\n                  // if (this.state.store.get(\"touchIDPreference\") === \"enabled\" && !loginParams.extraLoginOptions?.login_hint) {\n                  //   return this._fastLogin(loginParams);\n                  // }\n\n                  _context7.next = 4;\n                  return this.request({\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].LOGIN,\n                    allowedInteractions: [constants[\"e\"\n                    /* UX_MODE */\n                    ].REDIRECT, constants[\"e\"\n                    /* UX_MODE */\n                    ].POPUP],\n                    startUrl: this.state.startUrl,\n                    popupUrl: this.state.popupUrl,\n                    params: [loginParams]\n                  });\n\n                case 4:\n                  res = _context7.sent;\n                  this.state.privKey = res.privKey;\n                  return _context7.abrupt(\"return\", {\n                    privKey: this.privKey\n                  });\n\n                case 7:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7, this);\n        }));\n\n        function _selectedLogin(_x3) {\n          return _selectedLogin2.apply(this, arguments);\n        }\n\n        return _selectedLogin;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee8() {\n          var logoutParams,\n              params,\n              res,\n              _args8 = arguments;\n          return regenerator_default.a.wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  logoutParams = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {};\n                  params = {}; // defaults\n\n                  params.redirectUrl = this.state.redirectUrl;\n                  params._clientId = this.state.clientId;\n\n                  if (logoutParams.clientId) {\n                    params._clientId = logoutParams.clientId;\n                  }\n\n                  if (logoutParams.fastLogin !== undefined) {\n                    params.fastLogin = logoutParams.fastLogin;\n                  }\n\n                  if (logoutParams.redirectUrl !== undefined) {\n                    params.redirectUrl = logoutParams.redirectUrl;\n                  }\n\n                  _context8.next = 9;\n                  return this.request({\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].LOGOUT,\n                    params: [params],\n                    startUrl: this.state.startUrl,\n                    popupUrl: this.state.popupUrl,\n                    allowedInteractions: [constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].JRPC, constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].POPUP, constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].REDIRECT]\n                  });\n\n                case 9:\n                  res = _context8.sent;\n                  this.state.privKey = \"\"; // if (!params.fastLogin) this.state.store.set(\"touchIDPreference\", \"disabled\");\n\n                  return _context8.abrupt(\"return\", res);\n\n                case 12:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8, this);\n        }));\n\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n\n        return logout;\n      }()\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee9(args) {\n          var _ref2;\n\n          var pid, params, session, startUrl, popupUrl, method, allowedInteractions, userData, sig, u, windowRef, _u, _windowRef;\n\n          return regenerator_default.a.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  pid = Object(openlogin_utils_[\"randomId\"])();\n                  params = args.params; // Note: _origin is added later in postMessageStream for jrpc requests\n                  // do not add it here since its used for checking postMessage constraints\n\n                  session = {};\n\n                  if (!(params.length !== 1)) {\n                    _context9.next = 5;\n                    break;\n                  }\n\n                  throw new Error(\"request params array should have only one element\");\n\n                case 5:\n                  startUrl = args.startUrl, popupUrl = args.popupUrl, method = args.method, allowedInteractions = args.allowedInteractions;\n\n                  if (!(allowedInteractions.length === 0)) {\n                    _context9.next = 8;\n                    break;\n                  }\n\n                  throw new Error(\"no allowed interactions\");\n\n                case 8:\n                  if (this.state.clientId) {\n                    session._clientId = this.state.clientId;\n                  }\n\n                  if (!this.privKey) {\n                    _context9.next = 17;\n                    break;\n                  }\n\n                  userData = {\n                    clientId: session._clientId,\n                    timestamp: Date.now().toString()\n                  };\n                  _context9.next = 13;\n                  return Object(eccrypto_[\"sign\"])(Buffer.from(this.privKey, \"hex\"), Buffer.from(Object(openlogin_utils_[\"keccak\"])(\"keccak256\").update(JSON.stringify(userData)).digest(\"hex\"), \"hex\"));\n\n                case 13:\n                  sig = _context9.sent;\n                  session._user = Object(eccrypto_[\"getPublic\"])(Buffer.from(this.privKey, \"hex\")).toString(\"hex\");\n                  session._userSig = openlogin_utils_[\"base64url\"].encode(sig);\n                  session._userData = userData;\n\n                case 17:\n                  session._originData = this.state.originData;\n                  session._whiteLabelData = this.state.whiteLabel;\n                  session._loginConfig = this.state.loginConfig; // add in session data (allow overrides)\n\n                  params = [_objectSpread(_objectSpread({}, session), params[0])]; // use JRPC where possible\n\n                  if (!(this.state.support3PC && allowedInteractions.includes(constants[\"a\"\n                  /* ALLOWED_INTERACTIONS */\n                  ].JRPC))) {\n                    _context9.next = 23;\n                    break;\n                  }\n\n                  return _context9.abrupt(\"return\", this._jrpcRequest({\n                    method: method,\n                    params: params\n                  }));\n\n                case 23:\n                  // set origin\n                  params[0]._origin = new URL((_ref2 = params[0].redirectUrl) !== null && _ref2 !== void 0 ? _ref2 : this.state.redirectUrl).origin; // preset params\n\n                  if (!this.state.support3PC) {\n                    _context9.next = 28;\n                    break;\n                  }\n\n                  _context9.next = 27;\n                  return this._setPIDData(pid, params);\n\n                case 27:\n                  // eslint-disable-next-line require-atomic-updates\n                  params = [{}];\n\n                case 28:\n                  if (!(!startUrl || !popupUrl)) {\n                    _context9.next = 30;\n                    break;\n                  }\n\n                  throw new Error(\"no url for redirect / popup flow\");\n\n                case 30:\n                  if (!(this.state.uxMode === constants[\"e\"\n                  /* UX_MODE */\n                  ].REDIRECT)) {\n                    _context9.next = 40;\n                    break;\n                  }\n\n                  if (!allowedInteractions.includes(constants[\"a\"\n                  /* ALLOWED_INTERACTIONS */\n                  ].REDIRECT)) {\n                    _context9.next = 34;\n                    break;\n                  } // give time for synchronous methods to complete before redirect\n\n\n                  setTimeout(function () {\n                    window.location.href = Object(utils[\"b\"\n                    /* constructURL */\n                    ])({\n                      baseURL: startUrl,\n                      hash: {\n                        b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                        _pid: pid,\n                        _method: method\n                      }\n                    });\n                  }, 50);\n                  return _context9.abrupt(\"return\", {});\n\n                case 34:\n                  if (!allowedInteractions.includes(constants[\"a\"\n                  /* ALLOWED_INTERACTIONS */\n                  ].POPUP)) {\n                    _context9.next = 38;\n                    break;\n                  }\n\n                  u = new URL(Object(utils[\"b\"\n                  /* constructURL */\n                  ])({\n                    baseURL: popupUrl,\n                    hash: {\n                      b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  }));\n                  windowRef = window.open(u.toString(), \"_blank\", Object(utils[\"e\"\n                  /* getPopupFeatures */\n                  ])());\n                  return _context9.abrupt(\"return\", Object(utils[\"a\"\n                  /* awaitReq */\n                  ])(pid, windowRef));\n\n                case 38:\n                  _context9.next = 47;\n                  break;\n\n                case 40:\n                  if (!allowedInteractions.includes(constants[\"a\"\n                  /* ALLOWED_INTERACTIONS */\n                  ].POPUP)) {\n                    _context9.next = 44;\n                    break;\n                  }\n\n                  _u = new URL(Object(utils[\"b\"\n                  /* constructURL */\n                  ])({\n                    baseURL: popupUrl,\n                    hash: {\n                      b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  }));\n                  _windowRef = window.open(_u.toString(), \"_blank\", Object(utils[\"e\"\n                  /* getPopupFeatures */\n                  ])());\n                  return _context9.abrupt(\"return\", Object(utils[\"a\"\n                  /* awaitReq */\n                  ])(pid, _windowRef));\n\n                case 44:\n                  if (!allowedInteractions.includes(constants[\"a\"\n                  /* ALLOWED_INTERACTIONS */\n                  ].REDIRECT)) {\n                    _context9.next = 47;\n                    break;\n                  } // give time for synchronous methods to complete before redirect\n\n\n                  setTimeout(function () {\n                    window.location.href = Object(utils[\"b\"\n                    /* constructURL */\n                    ])({\n                      baseURL: startUrl,\n                      hash: {\n                        b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                        _pid: pid,\n                        _method: method\n                      }\n                    });\n                  }, 50);\n                  return _context9.abrupt(\"return\", null);\n\n                case 47:\n                  throw new Error(\"no matching allowed interactions\");\n\n                case 48:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, this);\n        }));\n\n        function request(_x4) {\n          return _request.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"_jrpcRequest\",\n      value: function () {\n        var _jrpcRequest2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee10(args) {\n          var _this = this;\n\n          var method, params;\n          return regenerator_default.a.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  if (!(!args || typeof_default()(args) !== \"object\" || Array.isArray(args))) {\n                    _context10.next = 2;\n                    break;\n                  }\n\n                  throw new Error(\"invalid request args\");\n\n                case 2:\n                  method = args.method, params = args.params;\n\n                  if (!(typeof method !== \"string\" || method.length === 0)) {\n                    _context10.next = 5;\n                    break;\n                  }\n\n                  throw new Error(\"invalid request method\");\n\n                case 5:\n                  if (!(params === undefined || !Array.isArray(params))) {\n                    _context10.next = 7;\n                    break;\n                  }\n\n                  throw new Error(\"invalid request params\");\n\n                case 7:\n                  if (params.length === 0) {\n                    params.push({});\n                  }\n\n                  return _context10.abrupt(\"return\", new Promise(function (resolve, reject) {\n                    _this.provider._rpcRequest({\n                      method: method,\n                      params: params\n                    }, Object(openlogin_jrpc_[\"getRpcPromiseCallback\"])(resolve, reject));\n                  }));\n\n                case 9:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10);\n        }));\n\n        function _jrpcRequest(_x5) {\n          return _jrpcRequest2.apply(this, arguments);\n        }\n\n        return _jrpcRequest;\n      }()\n    }, {\n      key: \"_check3PCSupport\",\n      value: function () {\n        var _check3PCSupport2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee11() {\n          return regenerator_default.a.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  return _context11.abrupt(\"return\", this._jrpcRequest({\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].CHECK_3PC_SUPPORT,\n                    params: [{\n                      _originData: this.state.originData\n                    }]\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11, this);\n        }));\n\n        function _check3PCSupport() {\n          return _check3PCSupport2.apply(this, arguments);\n        }\n\n        return _check3PCSupport;\n      }()\n    }, {\n      key: \"_setPIDData\",\n      value: function () {\n        var _setPIDData2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee12(pid, data) {\n          return regenerator_default.a.wrap(function _callee12$(_context12) {\n            while (1) {\n              switch (_context12.prev = _context12.next) {\n                case 0:\n                  _context12.next = 2;\n                  return this.request({\n                    allowedInteractions: [constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].JRPC],\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].SET_PID_DATA,\n                    params: [{\n                      pid: pid,\n                      data: data[0]\n                    }]\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context12.stop();\n              }\n            }\n          }, _callee12, this);\n        }));\n\n        function _setPIDData(_x6, _x7) {\n          return _setPIDData2.apply(this, arguments);\n        }\n\n        return _setPIDData;\n      }()\n    }, {\n      key: \"_getData\",\n      value: function () {\n        var _getData2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee13() {\n          return regenerator_default.a.wrap(function _callee13$(_context13) {\n            while (1) {\n              switch (_context13.prev = _context13.next) {\n                case 0:\n                  return _context13.abrupt(\"return\", this.request({\n                    allowedInteractions: [constants[\"a\"\n                    /* ALLOWED_INTERACTIONS */\n                    ].JRPC],\n                    method: constants[\"c\"\n                    /* OPENLOGIN_METHOD */\n                    ].GET_DATA,\n                    params: [{}]\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context13.stop();\n              }\n            }\n          }, _callee13, this);\n        }));\n\n        function _getData() {\n          return _getData2.apply(this, arguments);\n        }\n\n        return _getData;\n      }()\n    }, {\n      key: \"_syncState\",\n      value: function _syncState(newState) {\n        var _this2 = this;\n\n        if (newState.store) {\n          if (typeof_default()(newState.store) !== \"object\") {\n            throw new Error(\"expected store to be an object\");\n          }\n\n          Object.keys(newState.store).forEach(function (key) {\n            _this2.state.store.set(key, newState.store[key]);\n          });\n        }\n\n        var store = this.state.store;\n        this.state = _objectSpread(_objectSpread(_objectSpread({}, this.state), newState), {}, {\n          store: store\n        });\n      }\n    }, {\n      key: \"_modal\",\n      value: function () {\n        var _modal2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee15(params) {\n          var _this3 = this;\n\n          return regenerator_default.a.wrap(function _callee15$(_context15) {\n            while (1) {\n              switch (_context15.prev = _context15.next) {\n                case 0:\n                  return _context15.abrupt(\"return\", new Promise(function (resolve, reject) {\n                    _this3.modal._prompt(_this3.state.clientId, _this3.state.whiteLabel, _this3.state.loginConfig, /*#__PURE__*/function () {\n                      var _ref3 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee14(chunk) {\n                        var selectedLoginResponse;\n                        return regenerator_default.a.wrap(function _callee14$(_context14) {\n                          while (1) {\n                            switch (_context14.prev = _context14.next) {\n                              case 0:\n                                if (!chunk.cancel) {\n                                  _context14.next = 4;\n                                  break;\n                                }\n\n                                reject(new Error(\"user canceled login\"));\n                                _context14.next = 14;\n                                break;\n\n                              case 4:\n                                _context14.prev = 4;\n                                _context14.next = 7;\n                                return _this3._selectedLogin(external_lodash_merge_default()(params, chunk));\n\n                              case 7:\n                                selectedLoginResponse = _context14.sent;\n                                resolve(selectedLoginResponse);\n                                _context14.next = 14;\n                                break;\n\n                              case 11:\n                                _context14.prev = 11;\n                                _context14.t0 = _context14[\"catch\"](4);\n                                reject(_context14.t0);\n\n                              case 14:\n                              case \"end\":\n                                return _context14.stop();\n                            }\n                          }\n                        }, _callee14, null, [[4, 11]]);\n                      }));\n\n                      return function (_x9) {\n                        return _ref3.apply(this, arguments);\n                      };\n                    }());\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context15.stop();\n              }\n            }\n          }, _callee15);\n        }));\n\n        function _modal(_x8) {\n          return _modal2.apply(this, arguments);\n        }\n\n        return _modal;\n      }()\n    }, {\n      key: \"_cleanup\",\n      value: function () {\n        var _cleanup2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee16() {\n          return regenerator_default.a.wrap(function _callee16$(_context16) {\n            while (1) {\n              switch (_context16.prev = _context16.next) {\n                case 0:\n                  _context16.next = 2;\n                  return this.provider.cleanup();\n\n                case 2:\n                  _context16.next = 4;\n                  return this.modal.cleanup();\n\n                case 4:\n                case \"end\":\n                  return _context16.stop();\n              }\n            }\n          }, _callee16, this);\n        }));\n\n        function _cleanup() {\n          return _cleanup2.apply(this, arguments);\n        }\n\n        return _cleanup;\n      }()\n    }, {\n      key: \"encrypt\",\n      value: function () {\n        var _encrypt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee17(message, privateKey) {\n          var privKey;\n          return regenerator_default.a.wrap(function _callee17$(_context17) {\n            while (1) {\n              switch (_context17.prev = _context17.next) {\n                case 0:\n                  privKey = privateKey;\n\n                  if (!privKey) {\n                    privKey = this.privKey;\n                  } // validations\n\n\n                  if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                    _context17.next = 8;\n                    break;\n                  }\n\n                  if (!(privKey === \"\" || privKey === undefined)) {\n                    _context17.next = 7;\n                    break;\n                  }\n\n                  throw new Error(\"private key cannot be empty\");\n\n                case 7:\n                  throw new Error(\"invalid private key in encrypt\");\n\n                case 8:\n                  return _context17.abrupt(\"return\", Object(eccrypto_[\"encrypt\"])(Object(eccrypto_[\"getPublic\"])(Buffer.from(privKey, \"hex\")), message));\n\n                case 9:\n                case \"end\":\n                  return _context17.stop();\n              }\n            }\n          }, _callee17, this);\n        }));\n\n        function encrypt(_x10, _x11) {\n          return _encrypt2.apply(this, arguments);\n        }\n\n        return encrypt;\n      }()\n    }, {\n      key: \"decrypt\",\n      value: function () {\n        var _decrypt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee18(ciphertext, privateKey) {\n          var privKey;\n          return regenerator_default.a.wrap(function _callee18$(_context18) {\n            while (1) {\n              switch (_context18.prev = _context18.next) {\n                case 0:\n                  privKey = privateKey;\n\n                  if (!privKey) {\n                    privKey = this.privKey;\n                  } // validations\n\n\n                  if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                    _context18.next = 8;\n                    break;\n                  }\n\n                  if (!(privKey === \"\" || privKey === undefined)) {\n                    _context18.next = 7;\n                    break;\n                  }\n\n                  throw new Error(\"private key cannot be empty\");\n\n                case 7:\n                  throw new Error(\"invalid private key in decrypt\");\n\n                case 8:\n                  return _context18.abrupt(\"return\", Object(eccrypto_[\"decrypt\"])(Buffer.from(privKey, \"hex\"), ciphertext));\n\n                case 9:\n                case \"end\":\n                  return _context18.stop();\n              }\n            }\n          }, _callee18, this);\n        }));\n\n        function decrypt(_x12, _x13) {\n          return _decrypt2.apply(this, arguments);\n        }\n\n        return decrypt;\n      }()\n    }, {\n      key: \"getUserInfo\",\n      value: function () {\n        var _getUserInfo = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee19() {\n          var storeData, userInfo;\n          return regenerator_default.a.wrap(function _callee19$(_context19) {\n            while (1) {\n              switch (_context19.prev = _context19.next) {\n                case 0:\n                  if (!this.privKey) {\n                    _context19.next = 4;\n                    break;\n                  }\n\n                  storeData = this.state.store.getStore();\n                  userInfo = {\n                    email: storeData.email || \"\",\n                    name: storeData.name || \"\",\n                    profileImage: storeData.profileImage || \"\",\n                    aggregateVerifier: storeData.aggregateVerifier || \"\",\n                    verifier: storeData.verifier || \"\",\n                    verifierId: storeData.verifierId || \"\",\n                    typeOfLogin: storeData.typeOfLogin || \"\"\n                  };\n                  return _context19.abrupt(\"return\", userInfo);\n\n                case 4:\n                  throw new Error(\"user should be logged in to fetch userInfo\");\n\n                case 5:\n                case \"end\":\n                  return _context19.stop();\n              }\n            }\n          }, _callee19, this);\n        }));\n\n        function getUserInfo() {\n          return _getUserInfo.apply(this, arguments);\n        }\n\n        return getUserInfo;\n      }()\n    }]);\n    return OpenLogin;\n  }();\n  /* harmony default export */\n\n\n  var src_OpenLogin = __webpack_exports__[\"a\"] = OpenLogin_OpenLogin;\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /* harmony export (binding) */\n\n  __webpack_require__.d(__webpack_exports__, \"a\", function () {\n    return Provider;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n  /* harmony import */\n\n\n  var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(0);\n  /* harmony import */\n\n\n  var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(5);\n  /* harmony import */\n\n\n  var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__);\n  /* harmony import */\n\n\n  var pump__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(22);\n  /* harmony import */\n\n\n  var pump__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_11__);\n  /* harmony import */\n\n\n  var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(4);\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result);\n    };\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  var Provider = /*#__PURE__*/function (_SafeEventEmitter) {\n    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Provider, _SafeEventEmitter);\n\n    var _super = _createSuper(Provider);\n\n    function Provider() {\n      var _this;\n\n      _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Provider);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"iframeElem\", null);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"rpcStream\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"rpcEngine\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"initialized\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"mux\", void 0);\n\n      return _this;\n    }\n\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Provider, [{\n      key: \"init\",\n      value: function () {\n        var _init = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(_ref) {\n          var iframeUrl;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  iframeUrl = _ref.iframeUrl;\n                  _context.next = 3;\n                  return this.initIFrame(iframeUrl);\n\n                case 3:\n                  _context.next = 5;\n                  return this.setupStream();\n\n                case 5:\n                  this.initialized = true;\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function init(_x) {\n          return _init.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"initIFrame\",\n      value: function () {\n        var _initIFrame = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2(src) {\n          var documentIFrameElem, iframeElem;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return Object(_utils__WEBPACK_IMPORTED_MODULE_13__[\n                  /* documentReady */\n                  \"c\"])();\n\n                case 2:\n                  documentIFrameElem = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__[\n                  /* iframeDOMElementID */\n                  \"f\"]);\n\n                  if (documentIFrameElem) {\n                    documentIFrameElem.remove();\n                    window.console.log(\"already initialized, removing previous provider iframe\");\n                  }\n\n                  iframeElem = document.createElement(\"iframe\");\n                  iframeElem.src = src;\n                  iframeElem.id = _constants__WEBPACK_IMPORTED_MODULE_12__[\n                  /* iframeDOMElementID */\n                  \"f\"];\n                  iframeElem.setAttribute(\"style\", \"display:none; position:fixed; top: 0; left: 0; width: 100%\");\n                  document.body.appendChild(iframeElem);\n                  this.iframeElem = iframeElem;\n\n                case 10:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function initIFrame(_x2) {\n          return _initIFrame.apply(this, arguments);\n        }\n\n        return initIFrame;\n      }()\n    }, {\n      key: \"setupStream\",\n      value: function () {\n        var _setupStream = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3() {\n          var JRPCConnection, rpcEngine;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!(this.iframeElem === null)) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  throw new Error(\"iframe is null\");\n\n                case 2:\n                  this.rpcStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"PostMessageStream\"]({\n                    name: \"embed_rpc\",\n                    target: \"iframe_rpc\",\n                    targetWindow: this.iframeElem.contentWindow\n                  });\n                  this.mux = Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"setupMultiplex\"])(this.rpcStream);\n                  JRPCConnection = Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"createStreamMiddleware\"])();\n                  pump__WEBPACK_IMPORTED_MODULE_11___default()(JRPCConnection.stream, this.mux.createStream(\"jrpc\"), JRPCConnection.stream, function (error) {\n                    window.console.log(\"JRPC connection broken\", error);\n                  });\n                  rpcEngine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"JRPCEngine\"]();\n                  rpcEngine.push(Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"createIdRemapMiddleware\"])());\n                  rpcEngine.push(JRPCConnection.middleware);\n                  this.rpcEngine = rpcEngine;\n\n                case 10:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function setupStream() {\n          return _setupStream.apply(this, arguments);\n        }\n\n        return setupStream;\n      }()\n    }, {\n      key: \"cleanup\",\n      value: function () {\n        var _cleanup = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee4() {\n          var documentIFrameElem;\n          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return Object(_utils__WEBPACK_IMPORTED_MODULE_13__[\n                  /* documentReady */\n                  \"c\"])();\n\n                case 2:\n                  documentIFrameElem = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__[\n                  /* iframeDOMElementID */\n                  \"f\"]);\n\n                  if (documentIFrameElem) {\n                    documentIFrameElem.remove();\n                    this.iframeElem = null;\n                  }\n\n                  this.initialized = false;\n\n                case 5:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function cleanup() {\n          return _cleanup.apply(this, arguments);\n        }\n\n        return cleanup;\n      }()\n    }, {\n      key: \"_rpcRequest\",\n      value: function _rpcRequest(payload, callback) {\n        if (!payload.jsonrpc) {\n          payload.jsonrpc = \"2.0\";\n        }\n\n        if (!payload.id) {\n          payload.id = Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__[\"randomId\"])();\n        }\n\n        this.rpcEngine.handle(payload, callback);\n      }\n    }]);\n\n    return Provider;\n  }(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"SafeEventEmitter\"]);\n  /***/\n\n},\n/* 14 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // EXPORTS\n\n  __webpack_require__.d(__webpack_exports__, \"a\", function () {\n    return (\n      /* binding */\n      OpenLoginStore_OpenLoginStore\n    );\n  }); // EXTERNAL MODULE: external \"@babel/runtime/helpers/classCallCheck\"\n\n\n  var classCallCheck_ = __webpack_require__(7);\n\n  var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/createClass\"\n\n\n  var createClass_ = __webpack_require__(8);\n\n  var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass_); // EXTERNAL MODULE: external \"@babel/runtime/helpers/defineProperty\"\n\n\n  var defineProperty_ = __webpack_require__(3);\n\n  var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty_); // EXTERNAL MODULE: ./src/constants.ts\n\n\n  var constants = __webpack_require__(1); // CONCATENATED MODULE: ./src/MemoryStore.ts\n\n\n  var MemoryStore_MemoryStore = /*#__PURE__*/function () {\n    function MemoryStore() {\n      classCallCheck_default()(this, MemoryStore);\n      defineProperty_default()(this, \"store\", {});\n    }\n\n    createClass_default()(MemoryStore, [{\n      key: \"getItem\",\n      value: function getItem(key) {\n        return this.store[key];\n      }\n    }, {\n      key: \"setItem\",\n      value: function setItem(key, value) {\n        this.store[key] = value;\n      }\n    }]);\n    return MemoryStore;\n  }(); // EXTERNAL MODULE: ./src/utils.ts\n\n\n  var utils = __webpack_require__(4); // CONCATENATED MODULE: ./src/OpenLoginStore.ts\n\n\n  var OpenLoginStore_OpenLoginStore = /*#__PURE__*/function () {\n    function OpenLoginStore(storage) {\n      classCallCheck_default()(this, OpenLoginStore);\n      defineProperty_default()(this, \"storage\", void 0);\n      this.storage = storage;\n\n      if (!storage.getItem(constants[\"h\"\n      /* storeKey */\n      ])) {\n        this.resetStore();\n      }\n    }\n\n    createClass_default()(OpenLoginStore, [{\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.storage.getItem(constants[\"h\"\n        /* storeKey */\n        ]);\n      }\n    }, {\n      key: \"resetStore\",\n      value: function resetStore() {\n        var currStore = this.getStore();\n        this.storage.setItem(constants[\"h\"\n        /* storeKey */\n        ], JSON.stringify({}));\n        return currStore;\n      }\n    }, {\n      key: \"getStore\",\n      value: function getStore() {\n        return JSON.parse(this.storage.getItem(constants[\"h\"\n        /* storeKey */\n        ]));\n      }\n    }, {\n      key: \"get\",\n      value: function get(key) {\n        var store = JSON.parse(this.storage.getItem(constants[\"h\"\n        /* storeKey */\n        ]));\n        return store[key];\n      }\n    }, {\n      key: \"set\",\n      value: function set(key, value) {\n        var store = JSON.parse(this.storage.getItem(constants[\"h\"\n        /* storeKey */\n        ]));\n        store[key] = value;\n        this.storage.setItem(constants[\"h\"\n        /* storeKey */\n        ], JSON.stringify(store));\n      }\n    }], [{\n      key: \"getInstance\",\n      value: function getInstance() {\n        if (!this.instance) {\n          this.instance = new this(utils[\"g\"\n          /* localStorageAvailable */\n          ] ? localStorage : new MemoryStore_MemoryStore());\n        }\n\n        return this.instance;\n      }\n    }]);\n    return OpenLoginStore;\n  }();\n\n  defineProperty_default()(OpenLoginStore_OpenLoginStore, \"instance\", void 0);\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/typeof\");\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@toruslabs/http-helpers\");\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, exports) {\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"lodash.merge\");\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/inherits\");\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"pump\");\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _src_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"iframeDOMElementID\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"f\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"modalDOMElementID\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"g\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"storeKey\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"h\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"UX_MODE\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"e\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"OPENLOGIN_METHOD\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"c\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"ALLOWED_INTERACTIONS\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"a\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"OPENLOGIN_NETWORK\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"d\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"LOGIN_PROVIDER\", function () {\n    return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"b\"];\n  });\n  /* harmony import */\n\n\n  var _src_IStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n  /* harmony import */\n\n\n  var _src_IStore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_IStore__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony reexport (unknown) */\n\n\n  for (var __WEBPACK_IMPORT_KEY__ in _src_IStore__WEBPACK_IMPORTED_MODULE_1__) if ([\"default\", \"OpenLoginStore\", \"Provider\", \"iframeDOMElementID\", \"modalDOMElementID\", \"storeKey\", \"UX_MODE\", \"OPENLOGIN_METHOD\", \"ALLOWED_INTERACTIONS\", \"OPENLOGIN_NETWORK\", \"LOGIN_PROVIDER\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function (key) {\n    __webpack_require__.d(__webpack_exports__, key, function () {\n      return _src_IStore__WEBPACK_IMPORTED_MODULE_1__[key];\n    });\n  })(__WEBPACK_IMPORT_KEY__);\n  /* harmony import */\n\n\n  var _src_OpenLogin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"default\", function () {\n    return _src_OpenLogin__WEBPACK_IMPORTED_MODULE_2__[\"a\"];\n  });\n  /* harmony import */\n\n\n  var _src_OpenLoginStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14);\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"OpenLoginStore\", function () {\n    return _src_OpenLoginStore__WEBPACK_IMPORTED_MODULE_3__[\"a\"];\n  });\n  /* harmony import */\n\n\n  var _src_Provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13);\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"Provider\", function () {\n    return _src_Provider__WEBPACK_IMPORTED_MODULE_4__[\"a\"];\n  });\n  /* harmony import */\n\n\n  var _src_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4);\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"documentReady\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"c\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"htmlToElement\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"f\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"whitelistUrl\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"k\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getHashQueryParams\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"d\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"awaitReq\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"a\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"constructURL\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"b\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"storageAvailable\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"j\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"sessionStorageAvailable\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"i\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"localStorageAvailable\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"g\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"preloadIframe\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"h\"];\n  });\n  /* harmony reexport (safe) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getPopupFeatures\", function () {\n    return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"e\"];\n  });\n  /***/\n\n}\n/******/\n]);","map":{"version":3,"sources":["/home/kubuntu/react-demo/node_modules/@toruslabs/openlogin/dist/openlogin.cjs.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","require","__webpack_exports__","iframeDOMElementID","modalDOMElementID","storeKey","UX_MODE","OPENLOGIN_METHOD","ALLOWED_INTERACTIONS","OPENLOGIN_NETWORK","LOGIN_PROVIDER","POPUP","REDIRECT","LOGIN","LOGOUT","CHECK_3PC_SUPPORT","SET_PID_DATA","GET_DATA","JRPC","MAINNET","TESTNET","DEVELOPMENT","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","WEBAUTHN","JWT","documentReady","htmlToElement","whitelistUrl","getHashQueryParams","awaitReq","constructURL","storageAvailable","sessionStorageAvailable","localStorageAvailable","preloadIframe","getPopupFeatures","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__","_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2___default","_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__","_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3___default","_documentReady","apply","arguments","a","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","Promise","resolve","document","readyState","addEventListener","stop","html","template","window","createElement","trimmedHtml","trim","innerHTML","content","firstChild","_x","_x2","_x3","_whitelistUrl","_callee2","clientId","appKey","origin","appKeyBuf","sig","_callee2$","_context2","Buffer","from","padStart","encode","Error","update","digest","sent","replaceUrl","length","undefined","result","url","URL","location","href","searchParams","forEach","queryResult","queryParams","JSON","parse","keys","error","console","hash","substr","hashUrl","concat","hashResult","hashParams","cleanUrl","pathname","history","replaceState","id","windowRef","reject","closedByHandler","closedMonitor","setInterval","closed","clearInterval","handler","ev","pid","data","removeEventListener","close","params","baseURL","query","append","h","toString","type","storageExists","storageLength","storage","x","setItem","removeItem","code","openloginIframeHtml","crossOrigin","rel","relList","supports","head","appendChild","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","w","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","left","Math","abs","top","features","typeof_","typeof_default","slicedToArray_","slicedToArray_default","asyncToGenerator_","asyncToGenerator_default","classCallCheck_","classCallCheck_default","createClass_","createClass_default","defineProperty_","defineProperty_default","regenerator_","regenerator_default","eccrypto_","http_helpers_","openlogin_jrpc_","openlogin_utils_","external_lodash_merge_","external_lodash_merge_default","constants","utils","handleStream","handle","eventName","handlerWrapper","chunk","removeListener","on","Modal_Modal","Modal","modalUrl","_init","initIFrame","setupStream","init","iframeElem","mux","target","targetWindow","contentWindow","verifierStream","createStream","_initIFrame","src","documentIFrameElem","getElementById","remove","log","_hideModal","body","_showModal","style","display","position","right","bottom","border","modalZIndex","setAttribute","entries","map","_ref","_ref2","k","v","join","_ref3","_ref4","_prompt2","_callee3","whiteLabel","loginConfig","cb","_this","modalHandler","_callee3$","_context3","write","_prompt","_x4","_x5","_cleanup","_callee4","_callee4$","_context4","initialized","cleanup","OpenLoginStore","Provider","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","OpenLogin_OpenLogin","OpenLogin","options","_options$no3PC","_options$_startUrl","_options$_popupUrl","_options$redirectUrl","_options$uxMode","_options$replaceUrlOn","_options$originData","_options$whiteLabel","_options$loginConfig","provider","Proxy","deleteProperty","_iframeUrl","network","modal","initState","no3PC","_startUrl","_popupUrl","redirectUrl","protocol","host","uxMode","replaceUrlOnRedirect","originData","state","store","getInstance","iframeUrl","startUrl","popupUrl","support3PC","res","all","updateOriginData","_syncState","_check3PCSupport","t0","_getData","t1","privKey","_updateOriginData","filteredOriginData","_yield$Promise$all","_yield$Promise$all2","whitelist","stringify","getWhitelist","getWhiteLabel","_getWhitelist","project_id","signed_urls","_getWhiteLabel","_fastLogin2","_callee5","defaultParams","loginParams","_callee5$","_context5","request","fastLogin","method","allowedInteractions","_fastLogin","_login","_callee6","_callee6$","_context6","loginProvider","_selectedLogin","_modal","login","_selectedLogin2","_callee7","_callee7$","_context7","_logout","_callee8","logoutParams","_args8","_callee8$","_context8","_clientId","logout","_request","_callee9","args","session","userData","u","_u","_windowRef","_callee9$","_context9","timestamp","Date","now","_user","_userSig","_userData","_originData","_whiteLabelData","_loginConfig","includes","_jrpcRequest","_origin","_setPIDData","setTimeout","b64Params","_pid","_method","open","_jrpcRequest2","_callee10","_callee10$","_context10","Array","isArray","_rpcRequest","_check3PCSupport2","_callee11","_callee11$","_context11","_setPIDData2","_callee12","_callee12$","_context12","_x6","_x7","_getData2","_callee13","_callee13$","_context13","newState","_this2","set","_modal2","_callee15","_this3","_callee15$","_context15","_callee14","selectedLoginResponse","_callee14$","_context14","cancel","_x9","_x8","_cleanup2","_callee16","_callee16$","_context16","_encrypt2","_callee17","message","privateKey","_callee17$","_context17","exec","encrypt","_x10","_x11","_decrypt2","_callee18","ciphertext","_callee18$","_context18","decrypt","_x12","_x13","_getUserInfo","_callee19","storeData","userInfo","_callee19$","_context19","getStore","email","profileImage","aggregateVerifier","verifier","verifierId","typeOfLogin","getUserInfo","src_OpenLogin","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__","_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9___default","_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__","_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10___default","pump__WEBPACK_IMPORTED_MODULE_11__","pump__WEBPACK_IMPORTED_MODULE_11___default","_constants__WEBPACK_IMPORTED_MODULE_12__","_utils__WEBPACK_IMPORTED_MODULE_13__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","NewTarget","constructor","Reflect","construct","sham","Boolean","valueOf","e","_SafeEventEmitter","_super","_len","_key","_setupStream","JRPCConnection","rpcEngine","rpcStream","stream","middleware","payload","callback","jsonrpc","OpenLoginStore_OpenLoginStore","MemoryStore_MemoryStore","MemoryStore","getItem","resetStore","toJSON","currStore","instance","localStorage","_src_constants__WEBPACK_IMPORTED_MODULE_0__","_src_IStore__WEBPACK_IMPORTED_MODULE_1__","_src_IStore__WEBPACK_IMPORTED_MODULE_1___default","__WEBPACK_IMPORT_KEY__","indexOf","_src_OpenLogin__WEBPACK_IMPORTED_MODULE_2__","_src_OpenLoginStore__WEBPACK_IMPORTED_MODULE_3__","_src_Provider__WEBPACK_IMPORTED_MODULE_4__","_src_utils__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 23);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/regenerator\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return iframeDOMElementID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return modalDOMElementID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return storeKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return UX_MODE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return OPENLOGIN_METHOD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ALLOWED_INTERACTIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return OPENLOGIN_NETWORK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return LOGIN_PROVIDER; });\nvar iframeDOMElementID = \"openlogin-iframe\";\nvar modalDOMElementID = \"openlogin-modal\";\nvar storeKey = \"openlogin_store\";\nvar UX_MODE = {\n  POPUP: \"popup\",\n  REDIRECT: \"redirect\"\n};\nvar OPENLOGIN_METHOD = {\n  LOGIN: \"openlogin_login\",\n  LOGOUT: \"openlogin_logout\",\n  CHECK_3PC_SUPPORT: \"openlogin_check_3PC_support\",\n  SET_PID_DATA: \"openlogin_set_pid_data\",\n  GET_DATA: \"openlogin_get_data\"\n}; // autocomplete workaround https://github.com/microsoft/TypeScript/issues/29729\n\nvar ALLOWED_INTERACTIONS = {\n  POPUP: \"popup\",\n  REDIRECT: \"redirect\",\n  JRPC: \"jrpc\"\n};\nvar OPENLOGIN_NETWORK = {\n  MAINNET: \"mainnet\",\n  TESTNET: \"testnet\",\n  DEVELOPMENT: \"development\"\n};\nvar LOGIN_PROVIDER = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  TWITCH: \"twitch\",\n  APPLE: \"apple\",\n  LINE: \"line\",\n  GITHUB: \"github\",\n  KAKAO: \"kakao\",\n  LINKEDIN: \"linkedin\",\n  TWITTER: \"twitter\",\n  WEIBO: \"weibo\",\n  WECHAT: \"wechat\",\n  EMAIL_PASSWORDLESS: \"email_passwordless\",\n  WEBAUTHN: \"webauthn\",\n  JWT: \"jwt\"\n};\n/**\n * {@label loginProviderType}\n */\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/defineProperty\");\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return documentReady; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return htmlToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return whitelistUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getHashQueryParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return awaitReq; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return constructURL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return storageAvailable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return sessionStorageAvailable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return localStorageAvailable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return preloadIframe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getPopupFeatures; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n/* harmony import */ var _toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5);\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction documentReady() {\n  return _documentReady.apply(this, arguments);\n}\n\nfunction _documentReady() {\n  _documentReady = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              if (document.readyState !== \"loading\") {\n                resolve();\n              } else {\n                document.addEventListener(\"DOMContentLoaded\", function () {\n                  resolve();\n                });\n              }\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _documentReady.apply(this, arguments);\n}\n\nvar htmlToElement = function htmlToElement(html) {\n  var template = window.document.createElement(\"template\");\n  var trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild;\n};\nfunction whitelistUrl(_x, _x2, _x3) {\n  return _whitelistUrl.apply(this, arguments);\n}\n\nfunction _whitelistUrl() {\n  _whitelistUrl = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(clientId, appKey, origin) {\n    var appKeyBuf, sig;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            appKeyBuf = Buffer.from(appKey.padStart(64, \"0\"), \"hex\");\n\n            if (!(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"base64url\"].encode(Object(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__[\"getPublic\"])(appKeyBuf)) !== clientId)) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw new Error(\"appKey mismatch\");\n\n          case 3:\n            _context2.next = 5;\n            return Object(_toruslabs_eccrypto__WEBPACK_IMPORTED_MODULE_2__[\"sign\"])(appKeyBuf, Buffer.from(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"keccak\"])(\"keccak256\").update(origin).digest(\"hex\"), \"hex\"));\n\n          case 5:\n            sig = _context2.sent;\n            return _context2.abrupt(\"return\", _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"base64url\"].encode(sig));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _whitelistUrl.apply(this, arguments);\n}\n\nfunction getHashQueryParams() {\n  var replaceUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var result = {};\n  var url = new URL(window.location.href);\n  url.searchParams.forEach(function (value, key) {\n    if (key !== \"result\") {\n      result[key] = value;\n    }\n  });\n  var queryResult = url.searchParams.get(\"result\");\n\n  if (queryResult) {\n    try {\n      var queryParams = JSON.parse(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeatob\"])(queryResult));\n      Object.keys(queryParams).forEach(function (key) {\n        result[key] = queryParams[key];\n      });\n    } catch (error) {\n      window.console.error(error);\n    }\n  }\n\n  var hash = url.hash.substr(1);\n  var hashUrl = new URL(\"\".concat(window.location.origin, \"/?\").concat(hash));\n  hashUrl.searchParams.forEach(function (value, key) {\n    if (key !== \"result\") {\n      result[key] = value;\n    }\n  });\n  var hashResult = hashUrl.searchParams.get(\"result\");\n\n  if (hashResult) {\n    try {\n      var hashParams = JSON.parse(Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__[\"safeatob\"])(hashResult));\n      Object.keys(hashParams).forEach(function (key) {\n        result[key] = hashParams[key];\n      });\n    } catch (error) {\n      window.console.error(error);\n    }\n  }\n\n  if (replaceUrl) {\n    var cleanUrl = window.location.origin + window.location.pathname;\n    window.history.replaceState(null, \"\", cleanUrl);\n  }\n\n  return result;\n}\nfunction awaitReq(id, windowRef) {\n  return new Promise(function (resolve, reject) {\n    if (!windowRef) reject(new Error(\"Unable to open window\"));\n    var closedByHandler = false;\n    var closedMonitor = setInterval(function () {\n      if (!closedByHandler && windowRef.closed) {\n        clearInterval(closedMonitor);\n        reject(new Error(\"user closed popup\"));\n      }\n    }, 500);\n\n    var handler = function handler(ev) {\n      var pid = ev.data.pid;\n      if (id !== pid) return;\n      window.removeEventListener(\"message\", handler);\n      closedByHandler = true;\n      clearInterval(closedMonitor);\n      windowRef.close();\n\n      if (ev.data.data && ev.data.data.error) {\n        reject(new Error(ev.data.data.error));\n      } else {\n        resolve(ev.data.data);\n      }\n    };\n\n    window.addEventListener(\"message\", handler);\n  });\n}\nfunction constructURL(params) {\n  var baseURL = params.baseURL,\n      query = params.query,\n      hash = params.hash;\n  var url = new URL(baseURL);\n\n  if (query) {\n    Object.keys(query).forEach(function (key) {\n      url.searchParams.append(key, query[key]);\n    });\n  }\n\n  if (hash) {\n    var h = new URL(constructURL({\n      baseURL: baseURL,\n      query: hash\n    })).searchParams.toString();\n    url.hash = h;\n  }\n\n  return url.toString();\n}\nfunction storageAvailable(type) {\n  var storageExists = false;\n  var storageLength = 0;\n  var storage;\n\n  try {\n    storage = window[type];\n    storageExists = true;\n    storageLength = storage.length;\n    var x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (error) {\n    return error && (error.code === 22 || // Firefox\n    error.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    error.name === \"QuotaExceededErro r\" || // Firefox\n    error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storageExists && storageLength !== 0;\n  }\n}\nvar sessionStorageAvailable = storageAvailable(\"sessionStorage\");\nvar localStorageAvailable = storageAvailable(\"localStorage\");\nfunction preloadIframe(url) {\n  try {\n    var openloginIframeHtml = document.createElement(\"link\");\n    openloginIframeHtml.href = url;\n    openloginIframeHtml.crossOrigin = \"anonymous\";\n    openloginIframeHtml.type = \"text/html\";\n    openloginIframeHtml.rel = \"prefetch\";\n\n    if (openloginIframeHtml.relList && openloginIframeHtml.relList.supports) {\n      if (openloginIframeHtml.relList.supports(\"prefetch\")) {\n        document.head.appendChild(openloginIframeHtml);\n      }\n    }\n  } catch (error) {\n    window.console.error(error);\n  }\n}\nfunction getPopupFeatures() {\n  // Fixes dual-screen position                             Most browsers      Firefox\n  var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  var dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n  var w = 1200;\n  var h = 700;\n  var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n  var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n  var systemZoom = 1; // No reliable estimate\n\n  var left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  var top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  var features = \"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(h / systemZoom, \",width=\").concat(w / systemZoom, \",top=\").concat(top, \",left=\").concat(left);\n  return features;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@toruslabs/openlogin-utils\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@toruslabs/openlogin-jrpc\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/classCallCheck\");\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/createClass\");\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@toruslabs/eccrypto\");\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/slicedToArray\");\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/typeof\"\nvar typeof_ = __webpack_require__(15);\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(typeof_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/slicedToArray\"\nvar slicedToArray_ = __webpack_require__(11);\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/classCallCheck\"\nvar classCallCheck_ = __webpack_require__(7);\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/createClass\"\nvar createClass_ = __webpack_require__(8);\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/defineProperty\"\nvar defineProperty_ = __webpack_require__(3);\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"@toruslabs/eccrypto\"\nvar eccrypto_ = __webpack_require__(9);\n\n// EXTERNAL MODULE: external \"@toruslabs/http-helpers\"\nvar http_helpers_ = __webpack_require__(16);\n\n// EXTERNAL MODULE: external \"@toruslabs/openlogin-jrpc\"\nvar openlogin_jrpc_ = __webpack_require__(6);\n\n// EXTERNAL MODULE: external \"@toruslabs/openlogin-utils\"\nvar openlogin_utils_ = __webpack_require__(5);\n\n// EXTERNAL MODULE: external \"lodash.merge\"\nvar external_lodash_merge_ = __webpack_require__(19);\nvar external_lodash_merge_default = /*#__PURE__*/__webpack_require__.n(external_lodash_merge_);\n\n// EXTERNAL MODULE: ./src/constants.ts\nvar constants = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/utils.ts\nvar utils = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/Modal.ts\n\n\n\n\n\n\n\n\n\nvar handleStream = function handleStream(handle, eventName, handler) {\n  var handlerWrapper = function handlerWrapper(chunk) {\n    handler(chunk);\n    handle.removeListener(eventName, handlerWrapper);\n  };\n\n  handle.on(eventName, handlerWrapper);\n};\nvar Modal_Modal = /*#__PURE__*/function () {\n  function Modal(modalUrl) {\n    classCallCheck_default()(this, Modal);\n\n    defineProperty_default()(this, \"modalUrl\", void 0);\n\n    defineProperty_default()(this, \"iframeElem\", void 0);\n\n    defineProperty_default()(this, \"initialized\", false);\n\n    defineProperty_default()(this, \"modalZIndex\", 99999);\n\n    defineProperty_default()(this, \"mux\", void 0);\n\n    defineProperty_default()(this, \"verifierStream\", void 0);\n\n    this.modalUrl = modalUrl;\n  }\n\n  createClass_default()(Modal, [{\n    key: \"init\",\n    value: function () {\n      var _init = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.initIFrame(this.modalUrl);\n\n              case 2:\n                this.setupStream();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"setupStream\",\n    value: function setupStream() {\n      if (this.iframeElem === null) throw new Error(\"iframe is null\");\n      this.mux = Object(openlogin_jrpc_[\"setupMultiplex\"])(new openlogin_jrpc_[\"PostMessageStream\"]({\n        name: \"modal_iframe_rpc\",\n        target: \"modal_rpc\",\n        targetWindow: this.iframeElem.contentWindow\n      }));\n      this.verifierStream = this.mux.createStream(\"verifier\");\n    }\n  }, {\n    key: \"initIFrame\",\n    value: function () {\n      var _initIFrame = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2(src) {\n        var documentIFrameElem, iframeElem;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Object(utils[\"c\" /* documentReady */])();\n\n              case 2:\n                documentIFrameElem = document.getElementById(constants[\"g\" /* modalDOMElementID */]);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  window.console.log(\"already initialized, removing previous modal iframe\");\n                }\n\n                iframeElem = document.createElement(\"iframe\");\n                iframeElem.src = src;\n                iframeElem.id = constants[\"g\" /* modalDOMElementID */];\n                this.iframeElem = iframeElem;\n\n                this._hideModal();\n\n                document.body.appendChild(this.iframeElem);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initIFrame(_x) {\n        return _initIFrame.apply(this, arguments);\n      }\n\n      return initIFrame;\n    }()\n  }, {\n    key: \"_showModal\",\n    value: function _showModal() {\n      var style = {};\n      style.display = \"block\";\n      style.position = \"fixed\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n      style.border = \"0\";\n      style[\"z-index\"] = this.modalZIndex;\n      this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref) {\n        var _ref2 = slicedToArray_default()(_ref, 2),\n            k = _ref2[0],\n            v = _ref2[1];\n\n        return \"\".concat(k, \":\").concat(v);\n      }).join(\";\"));\n    }\n  }, {\n    key: \"_hideModal\",\n    value: function _hideModal() {\n      var style = {};\n      style.display = \"none\";\n      style.position = \"fixed\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n      style.border = \"0\";\n      style[\"z-index\"] = this.modalZIndex;\n      this.iframeElem.setAttribute(\"style\", Object.entries(style).map(function (_ref3) {\n        var _ref4 = slicedToArray_default()(_ref3, 2),\n            k = _ref4[0],\n            v = _ref4[1];\n\n        return \"\".concat(k, \":\").concat(v);\n      }).join(\";\"));\n    }\n  }, {\n    key: \"_prompt\",\n    value: function () {\n      var _prompt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee3(clientId, whiteLabel, loginConfig, cb) {\n        var _this = this;\n\n        var modalHandler;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this._showModal();\n\n                modalHandler = function modalHandler(chunk) {\n                  _this._hideModal();\n\n                  cb(chunk);\n                };\n\n                handleStream(this.verifierStream, \"data\", modalHandler);\n                this.verifierStream.write({\n                  name: \"prompt\",\n                  clientId: clientId,\n                  whiteLabel: whiteLabel,\n                  loginConfig: loginConfig\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _prompt(_x2, _x3, _x4, _x5) {\n        return _prompt2.apply(this, arguments);\n      }\n\n      return _prompt;\n    }()\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n        var documentIFrameElem;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return Object(utils[\"c\" /* documentReady */])();\n\n              case 2:\n                documentIFrameElem = document.getElementById(constants[\"g\" /* modalDOMElementID */]);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  this.iframeElem = null;\n                }\n\n                this.initialized = false;\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cleanup() {\n        return _cleanup.apply(this, arguments);\n      }\n\n      return cleanup;\n    }()\n  }]);\n\n  return Modal;\n}();\n// EXTERNAL MODULE: ./src/OpenLoginStore.ts + 1 modules\nvar OpenLoginStore = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/Provider.ts\nvar Provider = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/OpenLogin.ts\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\nObject(utils[\"h\" /* preloadIframe */])(\"https://app.openlogin.com/start\");\nObject(utils[\"h\" /* preloadIframe */])(\"https://app.openlogin.com/sdk-modal\");\n\nvar OpenLogin_OpenLogin = /*#__PURE__*/function () {\n  function OpenLogin(options) {\n    var _options$no3PC, _options$_startUrl, _options$_popupUrl, _options$redirectUrl, _options$uxMode, _options$replaceUrlOn, _options$originData, _options$whiteLabel, _options$loginConfig;\n\n    classCallCheck_default()(this, OpenLogin);\n\n    defineProperty_default()(this, \"provider\", void 0);\n\n    defineProperty_default()(this, \"state\", void 0);\n\n    defineProperty_default()(this, \"modal\", void 0);\n\n    this.provider = new Proxy(new Provider[\"a\" /* default */](), {\n      deleteProperty: function deleteProperty() {\n        return true;\n      } // work around for web3\n\n    });\n\n    if (!options._iframeUrl) {\n      if (options.network === constants[\"d\" /* OPENLOGIN_NETWORK */].MAINNET) {\n        options._iframeUrl = \"https://app.openlogin.com\";\n      } else if (options.network === constants[\"d\" /* OPENLOGIN_NETWORK */].TESTNET) {\n        options._iframeUrl = \"https://beta.openlogin.com\";\n      } else if (options.network === constants[\"d\" /* OPENLOGIN_NETWORK */].DEVELOPMENT) {\n        options._iframeUrl = \"http://localhost:3000\";\n      }\n    }\n\n    if (!options._iframeUrl) {\n      throw new Error(\"unspecified network and iframeUrl\");\n    }\n\n    this.modal = new Modal_Modal(\"\".concat(options._iframeUrl, \"/sdk-modal\"));\n    this.initState(_objectSpread(_objectSpread({}, options), {}, {\n      no3PC: (_options$no3PC = options.no3PC) !== null && _options$no3PC !== void 0 ? _options$no3PC : false,\n      _iframeUrl: options._iframeUrl,\n      _startUrl: (_options$_startUrl = options._startUrl) !== null && _options$_startUrl !== void 0 ? _options$_startUrl : \"\".concat(options._iframeUrl, \"/start\"),\n      _popupUrl: (_options$_popupUrl = options._popupUrl) !== null && _options$_popupUrl !== void 0 ? _options$_popupUrl : \"\".concat(options._iframeUrl, \"/popup-window\"),\n      redirectUrl: (_options$redirectUrl = options.redirectUrl) !== null && _options$redirectUrl !== void 0 ? _options$redirectUrl : \"\".concat(window.location.protocol, \"//\").concat(window.location.host).concat(window.location.pathname),\n      uxMode: (_options$uxMode = options.uxMode) !== null && _options$uxMode !== void 0 ? _options$uxMode : constants[\"e\" /* UX_MODE */].REDIRECT,\n      replaceUrlOnRedirect: (_options$replaceUrlOn = options.replaceUrlOnRedirect) !== null && _options$replaceUrlOn !== void 0 ? _options$replaceUrlOn : true,\n      originData: (_options$originData = options.originData) !== null && _options$originData !== void 0 ? _options$originData : defineProperty_default()({}, window.location.origin, \"\"),\n      whiteLabel: (_options$whiteLabel = options.whiteLabel) !== null && _options$whiteLabel !== void 0 ? _options$whiteLabel : {},\n      loginConfig: (_options$loginConfig = options.loginConfig) !== null && _options$loginConfig !== void 0 ? _options$loginConfig : {}\n    }));\n  }\n\n  createClass_default()(OpenLogin, [{\n    key: \"initState\",\n    value: function initState(options) {\n      this.state = {\n        uxMode: options.uxMode,\n        network: options.network,\n        store: OpenLoginStore[\"a\" /* default */].getInstance(),\n        iframeUrl: options._iframeUrl,\n        startUrl: options._startUrl,\n        popupUrl: options._popupUrl,\n        clientId: options.clientId,\n        redirectUrl: options.redirectUrl,\n        replaceUrlOnRedirect: options.replaceUrlOnRedirect,\n        originData: options.originData,\n        loginConfig: options.loginConfig,\n        support3PC: !options.no3PC,\n        whiteLabel: options.whiteLabel\n      };\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        var res;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.state.support3PC) {\n                  _context.next = 16;\n                  break;\n                }\n\n                _context.next = 3;\n                return Promise.all([this.provider.init({\n                  iframeUrl: this.state.iframeUrl\n                }), this.modal.init(), this.updateOriginData()]);\n\n              case 3:\n                this._syncState(Object(utils[\"d\" /* getHashQueryParams */])(this.state.replaceUrlOnRedirect));\n\n                _context.next = 6;\n                return this._check3PCSupport();\n\n              case 6:\n                res = _context.sent;\n                this.state.support3PC = !!res.support3PC;\n\n                if (!this.state.support3PC) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.t0 = this;\n                _context.next = 12;\n                return this._getData();\n\n              case 12:\n                _context.t1 = _context.sent;\n\n                _context.t0._syncState.call(_context.t0, _context.t1);\n\n              case 14:\n                _context.next = 19;\n                break;\n\n              case 16:\n                _context.next = 18;\n                return this.updateOriginData();\n\n              case 18:\n                this._syncState(Object(utils[\"d\" /* getHashQueryParams */])(this.state.replaceUrlOnRedirect));\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"privKey\",\n    get: function get() {\n      return this.state.privKey ? this.state.privKey.padStart(64, \"0\") : \"\";\n    }\n  }, {\n    key: \"updateOriginData\",\n    value: function () {\n      var _updateOriginData = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n        var filteredOriginData, _yield$Promise$all, _yield$Promise$all2, whitelist, whiteLabel;\n\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                filteredOriginData = JSON.parse(JSON.stringify(this.state.originData));\n                Object.keys(filteredOriginData).forEach(function (key) {\n                  if (filteredOriginData[key] === \"\") delete filteredOriginData[key];\n                });\n                _context2.next = 4;\n                return Promise.all([this.getWhitelist(), this.getWhiteLabel()]);\n\n              case 4:\n                _yield$Promise$all = _context2.sent;\n                _yield$Promise$all2 = slicedToArray_default()(_yield$Promise$all, 2);\n                whitelist = _yield$Promise$all2[0];\n                whiteLabel = _yield$Promise$all2[1];\n\n                this._syncState({\n                  originData: _objectSpread(_objectSpread({}, whitelist), filteredOriginData),\n                  whiteLabel: _objectSpread(_objectSpread({}, whiteLabel), this.state.whiteLabel)\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function updateOriginData() {\n        return _updateOriginData.apply(this, arguments);\n      }\n\n      return updateOriginData;\n    }()\n  }, {\n    key: \"getWhitelist\",\n    value: function () {\n      var _getWhitelist = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n        var clientId, res;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                clientId = this.state.clientId;\n\n                if (clientId) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                throw new Error(\"unspecified clientId\");\n\n              case 4:\n                _context3.next = 6;\n                return Object(http_helpers_[\"post\"])(\"https://api.developer.tor.us/whitelist\", {\n                  project_id: this.state.clientId\n                });\n\n              case 6:\n                res = _context3.sent;\n                return _context3.abrupt(\"return\", res.signed_urls);\n\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", {});\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 10]]);\n      }));\n\n      function getWhitelist() {\n        return _getWhitelist.apply(this, arguments);\n      }\n\n      return getWhitelist;\n    }()\n  }, {\n    key: \"getWhiteLabel\",\n    value: function () {\n      var _getWhiteLabel = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n        var clientId, res;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                clientId = this.state.clientId;\n\n                if (clientId) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error(\"unspecified clientId\");\n\n              case 4:\n                _context4.next = 6;\n                return Object(http_helpers_[\"post\"])(\"https://api.developer.tor.us/whitelabel\", {\n                  project_id: this.state.clientId\n                });\n\n              case 6:\n                res = _context4.sent;\n                return _context4.abrupt(\"return\", res.whiteLabel);\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](0);\n                return _context4.abrupt(\"return\", {});\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 10]]);\n      }));\n\n      function getWhiteLabel() {\n        return _getWhiteLabel.apply(this, arguments);\n      }\n\n      return getWhiteLabel;\n    }()\n  }, {\n    key: \"_fastLogin\",\n    value: function () {\n      var _fastLogin2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee5(params) {\n        var defaultParams, loginParams, res;\n        return regenerator_default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                defaultParams = {\n                  redirectUrl: this.state.redirectUrl\n                };\n                loginParams = _objectSpread(_objectSpread({}, defaultParams), params);\n                _context5.next = 4;\n                return this.request({\n                  params: [_objectSpread(_objectSpread({}, loginParams), {}, {\n                    fastLogin: true\n                  })],\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].LOGIN,\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  allowedInteractions: [constants[\"a\" /* ALLOWED_INTERACTIONS */].POPUP, constants[\"a\" /* ALLOWED_INTERACTIONS */].REDIRECT]\n                });\n\n              case 4:\n                res = _context5.sent;\n                this.state.privKey = res.privKey;\n                return _context5.abrupt(\"return\", res);\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function _fastLogin(_x) {\n        return _fastLogin2.apply(this, arguments);\n      }\n\n      return _fastLogin;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee6(params) {\n        return regenerator_default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!(params !== null && params !== void 0 && params.loginProvider)) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", this._selectedLogin(params));\n\n              case 2:\n                return _context6.abrupt(\"return\", this._modal(params));\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function login(_x2) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"_selectedLogin\",\n    value: function () {\n      var _selectedLogin2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee7(params) {\n        var defaultParams, loginParams, res;\n        return regenerator_default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                defaultParams = {\n                  redirectUrl: this.state.redirectUrl\n                };\n                loginParams = _objectSpread(_objectSpread({\n                  loginProvider: params.loginProvider\n                }, defaultParams), params); // fast login flow\n                // if (this.state.store.get(\"touchIDPreference\") === \"enabled\" && !loginParams.extraLoginOptions?.login_hint) {\n                //   return this._fastLogin(loginParams);\n                // }\n\n                _context7.next = 4;\n                return this.request({\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].LOGIN,\n                  allowedInteractions: [constants[\"e\" /* UX_MODE */].REDIRECT, constants[\"e\" /* UX_MODE */].POPUP],\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  params: [loginParams]\n                });\n\n              case 4:\n                res = _context7.sent;\n                this.state.privKey = res.privKey;\n                return _context7.abrupt(\"return\", {\n                  privKey: this.privKey\n                });\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function _selectedLogin(_x3) {\n        return _selectedLogin2.apply(this, arguments);\n      }\n\n      return _selectedLogin;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee8() {\n        var logoutParams,\n            params,\n            res,\n            _args8 = arguments;\n        return regenerator_default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                logoutParams = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {};\n                params = {}; // defaults\n\n                params.redirectUrl = this.state.redirectUrl;\n                params._clientId = this.state.clientId;\n\n                if (logoutParams.clientId) {\n                  params._clientId = logoutParams.clientId;\n                }\n\n                if (logoutParams.fastLogin !== undefined) {\n                  params.fastLogin = logoutParams.fastLogin;\n                }\n\n                if (logoutParams.redirectUrl !== undefined) {\n                  params.redirectUrl = logoutParams.redirectUrl;\n                }\n\n                _context8.next = 9;\n                return this.request({\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].LOGOUT,\n                  params: [params],\n                  startUrl: this.state.startUrl,\n                  popupUrl: this.state.popupUrl,\n                  allowedInteractions: [constants[\"a\" /* ALLOWED_INTERACTIONS */].JRPC, constants[\"a\" /* ALLOWED_INTERACTIONS */].POPUP, constants[\"a\" /* ALLOWED_INTERACTIONS */].REDIRECT]\n                });\n\n              case 9:\n                res = _context8.sent;\n                this.state.privKey = \"\"; // if (!params.fastLogin) this.state.store.set(\"touchIDPreference\", \"disabled\");\n\n                return _context8.abrupt(\"return\", res);\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee9(args) {\n        var _ref2;\n\n        var pid, params, session, startUrl, popupUrl, method, allowedInteractions, userData, sig, u, windowRef, _u, _windowRef;\n\n        return regenerator_default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                pid = Object(openlogin_utils_[\"randomId\"])();\n                params = args.params; // Note: _origin is added later in postMessageStream for jrpc requests\n                // do not add it here since its used for checking postMessage constraints\n\n                session = {};\n\n                if (!(params.length !== 1)) {\n                  _context9.next = 5;\n                  break;\n                }\n\n                throw new Error(\"request params array should have only one element\");\n\n              case 5:\n                startUrl = args.startUrl, popupUrl = args.popupUrl, method = args.method, allowedInteractions = args.allowedInteractions;\n\n                if (!(allowedInteractions.length === 0)) {\n                  _context9.next = 8;\n                  break;\n                }\n\n                throw new Error(\"no allowed interactions\");\n\n              case 8:\n                if (this.state.clientId) {\n                  session._clientId = this.state.clientId;\n                }\n\n                if (!this.privKey) {\n                  _context9.next = 17;\n                  break;\n                }\n\n                userData = {\n                  clientId: session._clientId,\n                  timestamp: Date.now().toString()\n                };\n                _context9.next = 13;\n                return Object(eccrypto_[\"sign\"])(Buffer.from(this.privKey, \"hex\"), Buffer.from(Object(openlogin_utils_[\"keccak\"])(\"keccak256\").update(JSON.stringify(userData)).digest(\"hex\"), \"hex\"));\n\n              case 13:\n                sig = _context9.sent;\n                session._user = Object(eccrypto_[\"getPublic\"])(Buffer.from(this.privKey, \"hex\")).toString(\"hex\");\n                session._userSig = openlogin_utils_[\"base64url\"].encode(sig);\n                session._userData = userData;\n\n              case 17:\n                session._originData = this.state.originData;\n                session._whiteLabelData = this.state.whiteLabel;\n                session._loginConfig = this.state.loginConfig; // add in session data (allow overrides)\n\n                params = [_objectSpread(_objectSpread({}, session), params[0])]; // use JRPC where possible\n\n                if (!(this.state.support3PC && allowedInteractions.includes(constants[\"a\" /* ALLOWED_INTERACTIONS */].JRPC))) {\n                  _context9.next = 23;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\", this._jrpcRequest({\n                  method: method,\n                  params: params\n                }));\n\n              case 23:\n                // set origin\n                params[0]._origin = new URL((_ref2 = params[0].redirectUrl) !== null && _ref2 !== void 0 ? _ref2 : this.state.redirectUrl).origin; // preset params\n\n                if (!this.state.support3PC) {\n                  _context9.next = 28;\n                  break;\n                }\n\n                _context9.next = 27;\n                return this._setPIDData(pid, params);\n\n              case 27:\n                // eslint-disable-next-line require-atomic-updates\n                params = [{}];\n\n              case 28:\n                if (!(!startUrl || !popupUrl)) {\n                  _context9.next = 30;\n                  break;\n                }\n\n                throw new Error(\"no url for redirect / popup flow\");\n\n              case 30:\n                if (!(this.state.uxMode === constants[\"e\" /* UX_MODE */].REDIRECT)) {\n                  _context9.next = 40;\n                  break;\n                }\n\n                if (!allowedInteractions.includes(constants[\"a\" /* ALLOWED_INTERACTIONS */].REDIRECT)) {\n                  _context9.next = 34;\n                  break;\n                }\n\n                // give time for synchronous methods to complete before redirect\n                setTimeout(function () {\n                  window.location.href = Object(utils[\"b\" /* constructURL */])({\n                    baseURL: startUrl,\n                    hash: {\n                      b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  });\n                }, 50);\n                return _context9.abrupt(\"return\", {});\n\n              case 34:\n                if (!allowedInteractions.includes(constants[\"a\" /* ALLOWED_INTERACTIONS */].POPUP)) {\n                  _context9.next = 38;\n                  break;\n                }\n\n                u = new URL(Object(utils[\"b\" /* constructURL */])({\n                  baseURL: popupUrl,\n                  hash: {\n                    b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                    _pid: pid,\n                    _method: method\n                  }\n                }));\n                windowRef = window.open(u.toString(), \"_blank\", Object(utils[\"e\" /* getPopupFeatures */])());\n                return _context9.abrupt(\"return\", Object(utils[\"a\" /* awaitReq */])(pid, windowRef));\n\n              case 38:\n                _context9.next = 47;\n                break;\n\n              case 40:\n                if (!allowedInteractions.includes(constants[\"a\" /* ALLOWED_INTERACTIONS */].POPUP)) {\n                  _context9.next = 44;\n                  break;\n                }\n\n                _u = new URL(Object(utils[\"b\" /* constructURL */])({\n                  baseURL: popupUrl,\n                  hash: {\n                    b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                    _pid: pid,\n                    _method: method\n                  }\n                }));\n                _windowRef = window.open(_u.toString(), \"_blank\", Object(utils[\"e\" /* getPopupFeatures */])());\n                return _context9.abrupt(\"return\", Object(utils[\"a\" /* awaitReq */])(pid, _windowRef));\n\n              case 44:\n                if (!allowedInteractions.includes(constants[\"a\" /* ALLOWED_INTERACTIONS */].REDIRECT)) {\n                  _context9.next = 47;\n                  break;\n                }\n\n                // give time for synchronous methods to complete before redirect\n                setTimeout(function () {\n                  window.location.href = Object(utils[\"b\" /* constructURL */])({\n                    baseURL: startUrl,\n                    hash: {\n                      b64Params: Object(openlogin_utils_[\"jsonToBase64\"])(params[0]),\n                      _pid: pid,\n                      _method: method\n                    }\n                  });\n                }, 50);\n                return _context9.abrupt(\"return\", null);\n\n              case 47:\n                throw new Error(\"no matching allowed interactions\");\n\n              case 48:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function request(_x4) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }, {\n    key: \"_jrpcRequest\",\n    value: function () {\n      var _jrpcRequest2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee10(args) {\n        var _this = this;\n\n        var method, params;\n        return regenerator_default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!(!args || typeof_default()(args) !== \"object\" || Array.isArray(args))) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                throw new Error(\"invalid request args\");\n\n              case 2:\n                method = args.method, params = args.params;\n\n                if (!(typeof method !== \"string\" || method.length === 0)) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                throw new Error(\"invalid request method\");\n\n              case 5:\n                if (!(params === undefined || !Array.isArray(params))) {\n                  _context10.next = 7;\n                  break;\n                }\n\n                throw new Error(\"invalid request params\");\n\n              case 7:\n                if (params.length === 0) {\n                  params.push({});\n                }\n\n                return _context10.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this.provider._rpcRequest({\n                    method: method,\n                    params: params\n                  }, Object(openlogin_jrpc_[\"getRpcPromiseCallback\"])(resolve, reject));\n                }));\n\n              case 9:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function _jrpcRequest(_x5) {\n        return _jrpcRequest2.apply(this, arguments);\n      }\n\n      return _jrpcRequest;\n    }()\n  }, {\n    key: \"_check3PCSupport\",\n    value: function () {\n      var _check3PCSupport2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee11() {\n        return regenerator_default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                return _context11.abrupt(\"return\", this._jrpcRequest({\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].CHECK_3PC_SUPPORT,\n                  params: [{\n                    _originData: this.state.originData\n                  }]\n                }));\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function _check3PCSupport() {\n        return _check3PCSupport2.apply(this, arguments);\n      }\n\n      return _check3PCSupport;\n    }()\n  }, {\n    key: \"_setPIDData\",\n    value: function () {\n      var _setPIDData2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee12(pid, data) {\n        return regenerator_default.a.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return this.request({\n                  allowedInteractions: [constants[\"a\" /* ALLOWED_INTERACTIONS */].JRPC],\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].SET_PID_DATA,\n                  params: [{\n                    pid: pid,\n                    data: data[0]\n                  }]\n                });\n\n              case 2:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function _setPIDData(_x6, _x7) {\n        return _setPIDData2.apply(this, arguments);\n      }\n\n      return _setPIDData;\n    }()\n  }, {\n    key: \"_getData\",\n    value: function () {\n      var _getData2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee13() {\n        return regenerator_default.a.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                return _context13.abrupt(\"return\", this.request({\n                  allowedInteractions: [constants[\"a\" /* ALLOWED_INTERACTIONS */].JRPC],\n                  method: constants[\"c\" /* OPENLOGIN_METHOD */].GET_DATA,\n                  params: [{}]\n                }));\n\n              case 1:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function _getData() {\n        return _getData2.apply(this, arguments);\n      }\n\n      return _getData;\n    }()\n  }, {\n    key: \"_syncState\",\n    value: function _syncState(newState) {\n      var _this2 = this;\n\n      if (newState.store) {\n        if (typeof_default()(newState.store) !== \"object\") {\n          throw new Error(\"expected store to be an object\");\n        }\n\n        Object.keys(newState.store).forEach(function (key) {\n          _this2.state.store.set(key, newState.store[key]);\n        });\n      }\n\n      var store = this.state.store;\n      this.state = _objectSpread(_objectSpread(_objectSpread({}, this.state), newState), {}, {\n        store: store\n      });\n    }\n  }, {\n    key: \"_modal\",\n    value: function () {\n      var _modal2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee15(params) {\n        var _this3 = this;\n\n        return regenerator_default.a.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                return _context15.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this3.modal._prompt(_this3.state.clientId, _this3.state.whiteLabel, _this3.state.loginConfig, /*#__PURE__*/function () {\n                    var _ref3 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee14(chunk) {\n                      var selectedLoginResponse;\n                      return regenerator_default.a.wrap(function _callee14$(_context14) {\n                        while (1) {\n                          switch (_context14.prev = _context14.next) {\n                            case 0:\n                              if (!chunk.cancel) {\n                                _context14.next = 4;\n                                break;\n                              }\n\n                              reject(new Error(\"user canceled login\"));\n                              _context14.next = 14;\n                              break;\n\n                            case 4:\n                              _context14.prev = 4;\n                              _context14.next = 7;\n                              return _this3._selectedLogin(external_lodash_merge_default()(params, chunk));\n\n                            case 7:\n                              selectedLoginResponse = _context14.sent;\n                              resolve(selectedLoginResponse);\n                              _context14.next = 14;\n                              break;\n\n                            case 11:\n                              _context14.prev = 11;\n                              _context14.t0 = _context14[\"catch\"](4);\n                              reject(_context14.t0);\n\n                            case 14:\n                            case \"end\":\n                              return _context14.stop();\n                          }\n                        }\n                      }, _callee14, null, [[4, 11]]);\n                    }));\n\n                    return function (_x9) {\n                      return _ref3.apply(this, arguments);\n                    };\n                  }());\n                }));\n\n              case 1:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      function _modal(_x8) {\n        return _modal2.apply(this, arguments);\n      }\n\n      return _modal;\n    }()\n  }, {\n    key: \"_cleanup\",\n    value: function () {\n      var _cleanup2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee16() {\n        return regenerator_default.a.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return this.provider.cleanup();\n\n              case 2:\n                _context16.next = 4;\n                return this.modal.cleanup();\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function _cleanup() {\n        return _cleanup2.apply(this, arguments);\n      }\n\n      return _cleanup;\n    }()\n  }, {\n    key: \"encrypt\",\n    value: function () {\n      var _encrypt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee17(message, privateKey) {\n        var privKey;\n        return regenerator_default.a.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                privKey = privateKey;\n\n                if (!privKey) {\n                  privKey = this.privKey;\n                } // validations\n\n\n                if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                  _context17.next = 8;\n                  break;\n                }\n\n                if (!(privKey === \"\" || privKey === undefined)) {\n                  _context17.next = 7;\n                  break;\n                }\n\n                throw new Error(\"private key cannot be empty\");\n\n              case 7:\n                throw new Error(\"invalid private key in encrypt\");\n\n              case 8:\n                return _context17.abrupt(\"return\", Object(eccrypto_[\"encrypt\"])(Object(eccrypto_[\"getPublic\"])(Buffer.from(privKey, \"hex\")), message));\n\n              case 9:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function encrypt(_x10, _x11) {\n        return _encrypt2.apply(this, arguments);\n      }\n\n      return encrypt;\n    }()\n  }, {\n    key: \"decrypt\",\n    value: function () {\n      var _decrypt2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee18(ciphertext, privateKey) {\n        var privKey;\n        return regenerator_default.a.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                privKey = privateKey;\n\n                if (!privKey) {\n                  privKey = this.privKey;\n                } // validations\n\n\n                if (/^[0-9a-fA-f]{64}$/.exec(privKey)) {\n                  _context18.next = 8;\n                  break;\n                }\n\n                if (!(privKey === \"\" || privKey === undefined)) {\n                  _context18.next = 7;\n                  break;\n                }\n\n                throw new Error(\"private key cannot be empty\");\n\n              case 7:\n                throw new Error(\"invalid private key in decrypt\");\n\n              case 8:\n                return _context18.abrupt(\"return\", Object(eccrypto_[\"decrypt\"])(Buffer.from(privKey, \"hex\"), ciphertext));\n\n              case 9:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function decrypt(_x12, _x13) {\n        return _decrypt2.apply(this, arguments);\n      }\n\n      return decrypt;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee19() {\n        var storeData, userInfo;\n        return regenerator_default.a.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                if (!this.privKey) {\n                  _context19.next = 4;\n                  break;\n                }\n\n                storeData = this.state.store.getStore();\n                userInfo = {\n                  email: storeData.email || \"\",\n                  name: storeData.name || \"\",\n                  profileImage: storeData.profileImage || \"\",\n                  aggregateVerifier: storeData.aggregateVerifier || \"\",\n                  verifier: storeData.verifier || \"\",\n                  verifierId: storeData.verifierId || \"\",\n                  typeOfLogin: storeData.typeOfLogin || \"\"\n                };\n                return _context19.abrupt(\"return\", userInfo);\n\n              case 4:\n                throw new Error(\"user should be logged in to fetch userInfo\");\n\n              case 5:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }]);\n\n  return OpenLogin;\n}();\n\n/* harmony default export */ var src_OpenLogin = __webpack_exports__[\"a\"] = (OpenLogin_OpenLogin);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Provider; });\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(0);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6);\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(5);\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(22);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(4);\n\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\nvar Provider = /*#__PURE__*/function (_SafeEventEmitter) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Provider, _SafeEventEmitter);\n\n  var _super = _createSuper(Provider);\n\n  function Provider() {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Provider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"iframeElem\", null);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"rpcStream\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"rpcEngine\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"initialized\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this), \"mux\", void 0);\n\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Provider, [{\n    key: \"init\",\n    value: function () {\n      var _init = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(_ref) {\n        var iframeUrl;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                iframeUrl = _ref.iframeUrl;\n                _context.next = 3;\n                return this.initIFrame(iframeUrl);\n\n              case 3:\n                _context.next = 5;\n                return this.setupStream();\n\n              case 5:\n                this.initialized = true;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"initIFrame\",\n    value: function () {\n      var _initIFrame = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2(src) {\n        var documentIFrameElem, iframeElem;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Object(_utils__WEBPACK_IMPORTED_MODULE_13__[/* documentReady */ \"c\"])();\n\n              case 2:\n                documentIFrameElem = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__[/* iframeDOMElementID */ \"f\"]);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  window.console.log(\"already initialized, removing previous provider iframe\");\n                }\n\n                iframeElem = document.createElement(\"iframe\");\n                iframeElem.src = src;\n                iframeElem.id = _constants__WEBPACK_IMPORTED_MODULE_12__[/* iframeDOMElementID */ \"f\"];\n                iframeElem.setAttribute(\"style\", \"display:none; position:fixed; top: 0; left: 0; width: 100%\");\n                document.body.appendChild(iframeElem);\n                this.iframeElem = iframeElem;\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initIFrame(_x2) {\n        return _initIFrame.apply(this, arguments);\n      }\n\n      return initIFrame;\n    }()\n  }, {\n    key: \"setupStream\",\n    value: function () {\n      var _setupStream = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3() {\n        var JRPCConnection, rpcEngine;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(this.iframeElem === null)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw new Error(\"iframe is null\");\n\n              case 2:\n                this.rpcStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"PostMessageStream\"]({\n                  name: \"embed_rpc\",\n                  target: \"iframe_rpc\",\n                  targetWindow: this.iframeElem.contentWindow\n                });\n                this.mux = Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"setupMultiplex\"])(this.rpcStream);\n                JRPCConnection = Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"createStreamMiddleware\"])();\n                pump__WEBPACK_IMPORTED_MODULE_11___default()(JRPCConnection.stream, this.mux.createStream(\"jrpc\"), JRPCConnection.stream, function (error) {\n                  window.console.log(\"JRPC connection broken\", error);\n                });\n                rpcEngine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"JRPCEngine\"]();\n                rpcEngine.push(Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"createIdRemapMiddleware\"])());\n                rpcEngine.push(JRPCConnection.middleware);\n                this.rpcEngine = rpcEngine;\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function setupStream() {\n        return _setupStream.apply(this, arguments);\n      }\n\n      return setupStream;\n    }()\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee4() {\n        var documentIFrameElem;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return Object(_utils__WEBPACK_IMPORTED_MODULE_13__[/* documentReady */ \"c\"])();\n\n              case 2:\n                documentIFrameElem = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__[/* iframeDOMElementID */ \"f\"]);\n\n                if (documentIFrameElem) {\n                  documentIFrameElem.remove();\n                  this.iframeElem = null;\n                }\n\n                this.initialized = false;\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function cleanup() {\n        return _cleanup.apply(this, arguments);\n      }\n\n      return cleanup;\n    }()\n  }, {\n    key: \"_rpcRequest\",\n    value: function _rpcRequest(payload, callback) {\n      if (!payload.jsonrpc) {\n        payload.jsonrpc = \"2.0\";\n      }\n\n      if (!payload.id) {\n        payload.id = Object(_toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_10__[\"randomId\"])();\n      }\n\n      this.rpcEngine.handle(payload, callback);\n    }\n  }]);\n\n  return Provider;\n}(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_9__[\"SafeEventEmitter\"]);\n\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ OpenLoginStore_OpenLoginStore; });\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/classCallCheck\"\nvar classCallCheck_ = __webpack_require__(7);\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/createClass\"\nvar createClass_ = __webpack_require__(8);\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/defineProperty\"\nvar defineProperty_ = __webpack_require__(3);\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty_);\n\n// EXTERNAL MODULE: ./src/constants.ts\nvar constants = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/MemoryStore.ts\n\n\n\nvar MemoryStore_MemoryStore = /*#__PURE__*/function () {\n  function MemoryStore() {\n    classCallCheck_default()(this, MemoryStore);\n\n    defineProperty_default()(this, \"store\", {});\n  }\n\n  createClass_default()(MemoryStore, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return this.store[key];\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      this.store[key] = value;\n    }\n  }]);\n\n  return MemoryStore;\n}();\n// EXTERNAL MODULE: ./src/utils.ts\nvar utils = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/OpenLoginStore.ts\n\n\n\n\n\n\n\nvar OpenLoginStore_OpenLoginStore = /*#__PURE__*/function () {\n  function OpenLoginStore(storage) {\n    classCallCheck_default()(this, OpenLoginStore);\n\n    defineProperty_default()(this, \"storage\", void 0);\n\n    this.storage = storage;\n\n    if (!storage.getItem(constants[\"h\" /* storeKey */])) {\n      this.resetStore();\n    }\n  }\n\n  createClass_default()(OpenLoginStore, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.storage.getItem(constants[\"h\" /* storeKey */]);\n    }\n  }, {\n    key: \"resetStore\",\n    value: function resetStore() {\n      var currStore = this.getStore();\n      this.storage.setItem(constants[\"h\" /* storeKey */], JSON.stringify({}));\n      return currStore;\n    }\n  }, {\n    key: \"getStore\",\n    value: function getStore() {\n      return JSON.parse(this.storage.getItem(constants[\"h\" /* storeKey */]));\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var store = JSON.parse(this.storage.getItem(constants[\"h\" /* storeKey */]));\n      return store[key];\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var store = JSON.parse(this.storage.getItem(constants[\"h\" /* storeKey */]));\n      store[key] = value;\n      this.storage.setItem(constants[\"h\" /* storeKey */], JSON.stringify(store));\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (!this.instance) {\n        this.instance = new this(utils[\"g\" /* localStorageAvailable */] ? localStorage : new MemoryStore_MemoryStore());\n      }\n\n      return this.instance;\n    }\n  }]);\n\n  return OpenLoginStore;\n}();\n\ndefineProperty_default()(OpenLoginStore_OpenLoginStore, \"instance\", void 0);\n\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/typeof\");\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@toruslabs/http-helpers\");\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash.merge\");\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/inherits\");\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"pump\");\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"iframeDOMElementID\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"f\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"modalDOMElementID\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"g\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storeKey\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"h\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"UX_MODE\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"e\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"OPENLOGIN_METHOD\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"c\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ALLOWED_INTERACTIONS\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"a\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"OPENLOGIN_NETWORK\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"d\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LOGIN_PROVIDER\", function() { return _src_constants__WEBPACK_IMPORTED_MODULE_0__[\"b\"]; });\n\n/* harmony import */ var _src_IStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n/* harmony import */ var _src_IStore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_IStore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _src_IStore__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"OpenLoginStore\",\"Provider\",\"iframeDOMElementID\",\"modalDOMElementID\",\"storeKey\",\"UX_MODE\",\"OPENLOGIN_METHOD\",\"ALLOWED_INTERACTIONS\",\"OPENLOGIN_NETWORK\",\"LOGIN_PROVIDER\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _src_IStore__WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var _src_OpenLogin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _src_OpenLogin__WEBPACK_IMPORTED_MODULE_2__[\"a\"]; });\n\n/* harmony import */ var _src_OpenLoginStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"OpenLoginStore\", function() { return _src_OpenLoginStore__WEBPACK_IMPORTED_MODULE_3__[\"a\"]; });\n\n/* harmony import */ var _src_Provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Provider\", function() { return _src_Provider__WEBPACK_IMPORTED_MODULE_4__[\"a\"]; });\n\n/* harmony import */ var _src_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"documentReady\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"c\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"htmlToElement\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"f\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"whitelistUrl\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"k\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getHashQueryParams\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"d\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"awaitReq\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"a\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"constructURL\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"b\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storageAvailable\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"j\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sessionStorageAvailable\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"i\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"localStorageAvailable\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"g\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"preloadIframe\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"h\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getPopupFeatures\", function() { return _src_utils__WEBPACK_IMPORTED_MODULE_5__[\"e\"]; });\n\n\n\n\n\n\n\n\n\n/***/ })\n/******/ ]);"]},"metadata":{},"sourceType":"script"}